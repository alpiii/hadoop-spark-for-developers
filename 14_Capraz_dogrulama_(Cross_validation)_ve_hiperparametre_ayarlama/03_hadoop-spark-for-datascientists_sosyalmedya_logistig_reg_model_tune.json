{"paragraphs":[{"text":"%pyspark\n# Veri kaynağı: https://www.kaggle.com/jpacse/datasets-for-churn-telecom#cell2celltrain.csv\ndf = spark.sql(\"select * from azhadoop.sosyalmedyareklamkampanyasi\")","user":"anonymous","dateUpdated":"2019-04-30T11:19:35+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027403_-842882759","id":"20190425-200014_892861738","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:19:35+0000","dateFinished":"2019-04-30T11:19:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:6491"},{"text":"%pyspark\n# Dataframe'e göz atma\nz.show(df.limit(5))","user":"anonymous","dateUpdated":"2019-04-30T11:19:40+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"kullaniciid\tcinsiyet\tyas\ttahminimaas\tsatinaldimi\n15624510\tErkek\t19.0\t19000.0\t0.0\n15810944\tErkek\t35.0\t20000.0\t0.0\n15668575\tKad??n\t26.0\t43000.0\t0.0\n15603246\tKad??n\t27.0\t57000.0\t0.0\n15804002\tErkek\t19.0\t76000.0\t0.0\n"}]},"apps":[],"jobName":"paragraph_1556608027403_-842882759","id":"20190425-200201_1475409006","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T07:09:06+0000","dateFinished":"2019-04-30T07:09:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6492"},{"text":"%pyspark\n# Şemaya bakış\ndf.printSchema()","user":"anonymous","dateUpdated":"2019-04-30T11:19:43+0000","config":{"tableHide":false,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- kullaniciid: integer (nullable = true)\n |-- cinsiyet: string (nullable = true)\n |-- yas: double (nullable = true)\n |-- tahminimaas: double (nullable = true)\n |-- satinaldimi: double (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1556608027404_-844806504","id":"20190427-173116_2013799413","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:19:43+0000","dateFinished":"2019-04-30T11:19:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6493"},{"text":"%md\n### integer değerleri double yapma\n","dateUpdated":"2019-04-30T11:20:01+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>integer değerleri double yapma</h3>\n"}]},"apps":[],"jobName":"paragraph_1556608027404_-844806504","id":"20190427-211012_604960860","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6494"},{"text":"%pyspark\nfrom pyspark.sql import functions as f\n\n# Girdi olarak IntegerType istemiyoruz\ndf_str = df.withColumn(\"cinsiyet\", f.regexp_replace(df.cinsiyet, '\\?\\?', 'ı'))\ndf_str.show()","user":"anonymous","dateUpdated":"2019-04-30T11:20:05+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----------+--------+----+-----------+-----------+\n|kullaniciid|cinsiyet| yas|tahminimaas|satinaldimi|\n+-----------+--------+----+-----------+-----------+\n|   15624510|   Erkek|19.0|    19000.0|        0.0|\n|   15810944|   Erkek|35.0|    20000.0|        0.0|\n|   15668575|   Kadın|26.0|    43000.0|        0.0|\n|   15603246|   Kadın|27.0|    57000.0|        0.0|\n|   15804002|   Erkek|19.0|    76000.0|        0.0|\n|   15728773|   Erkek|27.0|    58000.0|        0.0|\n|   15598044|   Kadın|27.0|    84000.0|        0.0|\n|   15694829|   Kadın|32.0|   150000.0|        1.0|\n|   15600575|   Erkek|25.0|    33000.0|        0.0|\n|   15727311|   Kadın|35.0|    65000.0|        0.0|\n|   15570769|   Kadın|26.0|    80000.0|        0.0|\n|   15606274|   Kadın|26.0|    52000.0|        0.0|\n|   15746139|   Erkek|20.0|    86000.0|        0.0|\n|   15704987|   Erkek|32.0|    18000.0|        0.0|\n|   15628972|   Erkek|18.0|    82000.0|        0.0|\n|   15697686|   Erkek|29.0|    80000.0|        0.0|\n|   15733883|   Erkek|47.0|    25000.0|        1.0|\n|   15617482|   Erkek|45.0|    26000.0|        1.0|\n|   15704583|   Erkek|46.0|    28000.0|        1.0|\n|   15621083|   Kadın|48.0|    29000.0|        1.0|\n+-----------+--------+----+-----------+-----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1556608027404_-844806504","id":"20190427-204924_428777996","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:20:05+0000","dateFinished":"2019-04-30T11:20:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6495"},{"text":"%pyspark\ndf_str.describe().show()","user":"anonymous","dateUpdated":"2019-04-30T11:21:50+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-------+-----------------+--------+------------------+----------------+------------------+\n|summary|      kullaniciid|cinsiyet|               yas|     tahminimaas|       satinaldimi|\n+-------+-----------------+--------+------------------+----------------+------------------+\n|  count|              400|     400|               400|             400|               400|\n|   mean|  1.56915397575E7|    null|            37.655|         69742.5|            0.3575|\n| stddev|71658.32158119006|    null|10.482876597307927|34096.9602824248|0.4798639635968691|\n|    min|         15566689|   Erkek|              18.0|         15000.0|               0.0|\n|    max|         15815236|   Kadın|              60.0|        150000.0|               1.0|\n+-------+-----------------+--------+------------------+----------------+------------------+\n\n"}]},"apps":[],"jobName":"paragraph_1556610873982_-1062345639","id":"20190430-075433_13992981","dateCreated":"2019-04-30T07:54:33+0000","dateStarted":"2019-04-30T11:21:50+0000","dateFinished":"2019-04-30T11:21:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6496"},{"text":"%pyspark\n# kategorik, nümerik ve hedef değişkenleri ayırmak\nlabel = []\nanalize_girmeyecekler = []\nkategorikler = []\nnumerikler = []\n\nfor c in df_str.columns:\n    if(str(df_str.schema[c].dataType) == \"StringType\"):\n        kategorikler.append(c)\n    else:\n        numerikler.append(c)\n\n# kullaniciid analize girmeyeceklere eklensin\nanalize_girmeyecekler.extend(['kullaniciid']) \nlabel.append('satinaldimi')\nnumerikler = [c for c  in numerikler if c not in analize_girmeyecekler+label]\nkategorikler = [c for c  in kategorikler if c not in analize_girmeyecekler+label]","user":"anonymous","dateUpdated":"2019-04-30T11:22:26+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027404_-844806504","id":"20190427-165609_99663083","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:22:26+0000","dateFinished":"2019-04-30T11:22:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6497"},{"text":"%md\nYukarıdakiinline for döngüsünün satır satır hali\n    for c in numerikler:\n        if c not in analize_girmeyecekler+label:\n            numerikler.append(c)","user":"anonymous","dateUpdated":"2019-04-30T08:02:44+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Yukarıdakiinline for döngüsünün satır satır hali</p>\n<pre><code>for c in numerikler:\n    if c not in analize_girmeyecekler+label:\n        numerikler.append(c)\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1556611096769_-651309053","id":"20190430-075816_498624297","dateCreated":"2019-04-30T07:58:16+0000","dateStarted":"2019-04-30T08:02:44+0000","dateFinished":"2019-04-30T08:02:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6498"},{"text":"%pyspark\nprint(label)\nprint(kategorikler)\nprint(numerikler)\nprint(analize_girmeyecekler)","user":"anonymous","dateUpdated":"2019-04-30T11:22:29+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['satinaldimi']\n['cinsiyet']\n['yas', 'tahminimaas']\n['kullaniciid']\n"}]},"apps":[],"jobName":"paragraph_1556608027405_-845191253","id":"20190427-170030_1000683209","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:22:29+0000","dateFinished":"2019-04-30T11:22:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6499"},{"text":"%pyspark\n# Boş string değerler (null değil sadece empty) için ayıklama\nfrom pyspark.sql import functions as f\ndf_catg = df_str\nfor col in kategorikler:\n    df_catg = df_catg.withColumn(col, f.when(df_catg[col] == \"\",\"NA\").otherwise(df_catg[col]))","user":"anonymous","dateUpdated":"2019-04-30T11:23:01+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027405_-845191253","id":"20190427-233423_44054776","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:23:02+0000","dateFinished":"2019-04-30T11:23:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6500"},{"text":"%pyspark\n# nitelikleri kategorik, nümerik ve label olarak yeniden sıralayalım\ndf2 = df_catg.select(analize_girmeyecekler+kategorikler+numerikler+label)\nz.show(df2.limit(5))","user":"anonymous","dateUpdated":"2019-04-30T11:23:09+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"kullaniciid\tcinsiyet\tyas\ttahminimaas\tsatinaldimi\n15624510\tErkek\t19.0\t19000.0\t0.0\n15810944\tErkek\t35.0\t20000.0\t0.0\n15668575\tKadın\t26.0\t43000.0\t0.0\n15603246\tKadın\t27.0\t57000.0\t0.0\n15804002\tErkek\t19.0\t76000.0\t0.0\n"}]},"apps":[],"jobName":"paragraph_1556608027405_-845191253","id":"20190427-180230_1320888971","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:23:09+0000","dateFinished":"2019-04-30T11:23:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6501"},{"text":"%pyspark\nz.show(df2.describe())","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"summary\tcustomerid\tservicearea\tchildreninhh\thandsetrefurbished\thandsetwebcapable\ttruckowner\trvowner\thomeownership\tbuysviamailorder\trespondstomailoffers\toptoutmailings\tnonustravel\townscomputer\thascreditcard\tnewcellphoneuser\tnotnewcellphoneuser\townsmotorcycle\thandsetprice\tmadecalltoretentionteam\tcreditrating\tprizmcode\toccupation\tmaritalstatus\tmonthlyrevenue\tmonthlyminutes\ttotalrecurringcharge\tdirectorassistedcalls\toverageminutes\troamingcalls\tpercchangeminutes\tpercchangerevenues\tdroppedcalls\tblockedcalls\tunansweredcalls\tcustomercarecalls\tthreewaycalls\treceivedcalls\toutboundcalls\tinboundcalls\tpeakcallsinout\toffpeakcallsinout\tdroppedblockedcalls\tcallforwardingcalls\tcallwaitingcalls\tmonthsinservice\tuniquesubs\tactivesubs\thandsets\thandsetmodels\tcurrentequipmentdays\tagehh1\tagehh2\tretentioncalls\tretentionoffersaccepted\treferralsmadebysubscriber\tincomegroup\tadjustmentstocreditrating\tchurn\ncount\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t50891\t50891\t50891\t50891\t50891\t50891\t50680\t50680\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51046\t51046\t51046\t50138\t50138\t51047\t51047\t51047\t51047\t51047\t51047\nmean\t3201956.877818481\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\t82.23793337865398\tnull\tnull\tnull\tnull\tnull\t58.8344923463939\t525.6534161246586\t46.830087834784145\t0.8952290188835189\t40.02778487355328\t1.111945137647128\t-11.547908445146014\t-1.1919850039463182\t6.0114894117185464\t4.085672027739067\t28.288980743236564\t1.8689991576390697\t0.298838325464757\t114.80012145669629\t25.37771465512182\t8.178104491938697\t90.54951515270294\t67.65079044801888\t10.158003408623308\t0.010617666072443042\t1.8405038493937693\t18.756263835289047\t1.5321566399592532\t1.3543401179305345\t1.8056458880225679\t1.5587509305332445\t380.5458410061513\t31.338126770114485\t21.144142167617375\t0.03720101083315376\t0.018277273884851217\t0.05206966129253433\t4.324524457852568\t0.05391110153388054\tnull\nstddev\t116905.56166605534\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\t60.401984189768086\tnull\tnull\tnull\tnull\tnull\t44.50733565360789\t529.8710628347116\t23.84887070093898\t2.228546017308868\t96.58807592111563\t9.779246684749236\t257.51477231886395\t39.57491526057068\t9.043955458892844\t10.946904606254314\t38.87619422834884\t5.096137719886598\t1.1682765678328197\t166.48589648609632\t35.2091466569411\t16.665877814169438\t104.94747037789936\t92.75269863869451\t15.555283795839788\t0.5867893102705136\t5.5851288287061225\t9.80013752469091\t1.2233842333454994\t0.6754767028851448\t1.3311727978849333\t0.9059322342395197\t253.80198229854253\t22.094635117797626\t23.93136768566701\t0.20648287505567137\t0.14245837105330492\t0.3075917416796367\t3.138236346129114\t0.38314702479363016\tnull\nmin\t3000002.0\tAIRAIK803\tNo\tNo\tNo\tNo\tNo\tKnown\tNo\tNo\tNo\tNo\tNo\tNo\tNo\tNo\tNo\t10\tNo\t1-Highest\tOther\tClerical\tNo\t-6.17\t0.0\t-11.0\t0.0\t0.0\t0.0\t-3875.0\t-1107.7\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t6.0\t1.0\t0.0\t1.0\t1.0\t-5.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\tNo\nmax\t3399994.0\tVAHWAY540\tYes\tYes\tYes\tYes\tYes\tUnknown\tYes\tYes\tYes\tYes\tYes\tYes\tYes\tYes\tYes\tUnknown\tYes\t7-Lowest\tTown\tStudent\tYes\t1223.38\t7359.0\t400.0\t159.39\t4321.0\t1112.0\t5192.0\t2483.5\t221.7\t384.3\t848.7\t327.3\t66.0\t2692.4\t644.3\t519.3\t2090.7\t1474.7\t411.7\t81.0\t212.7\t61.0\t196.0\t53.0\t24.0\t15.0\t1812.0\t99.0\t99.0\t4.0\t3.0\t35.0\t9.0\t25.0\tYes\n"}]},"apps":[],"jobName":"paragraph_1556608027405_-845191253","id":"20190425-200621_1610568337","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6502"},{"text":"%md\n### Elle null kontrolü\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Elle null kontrolü</h3>\n"}]},"apps":[],"jobName":"paragraph_1556608027405_-845191253","id":"20190427-211054_2145376795","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6503"},{"text":"%pyspark\n# Değişkenler içinde null var mı? Kaç tane?:\nfor c in df2.columns:\n    c_null_count = df2.where(df2[c].isNull()).count()\n    if( c_null_count > 0):\n        print(c, \"-> null var:\", c_null_count)\n    else: print(c, \"-> null yok\")\n        ","user":"anonymous","dateUpdated":"2019-04-30T11:23:20+0000","config":{"tableHide":false,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"kullaniciid -> null yok\ncinsiyet -> null yok\nyas -> null yok\ntahminimaas -> null yok\nsatinaldimi -> null yok\n"}]},"apps":[],"jobName":"paragraph_1556608027405_-845191253","id":"20190427-165122_884309711","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:23:18+0000","dateFinished":"2019-04-30T11:23:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6504"},{"text":"%pyspark\n# Kategorik değişkenler ve tekil kategori sayıları\nfor c in kategorikler:\n    print(c,\":\", df2.select(c).distinct().count())\n","user":"anonymous","dateUpdated":"2019-04-30T11:23:39+0000","config":{"tableHide":false,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"cinsiyet : 2\n"}]},"apps":[],"jobName":"paragraph_1556608027406_-844037006","id":"20190427-181625_502386459","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:23:29+0000","dateFinished":"2019-04-30T11:23:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6505"},{"text":"%md\n## Imputer ile Nümerik Niteliklerdeki Null Değerleri Tamamlama\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Imputer ile Nümerik Niteliklerdeki Null Değerleri Tamamlama</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027406_-844037006","id":"20190427-192512_1475499993","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6506"},{"text":"%pyspark\nfrom pyspark.ml.feature import Imputer\n\n# Imputer kullanılacak her bir niteğin imputer sonrası ismini belirleyip bir listede toplayalım\nnumerik_imputed_cols = []\nfor col in numerikler:\n    numerik_imputed_cols.append(col+\"_imputer\")\n\n# Imputer nesnesi oluşturalım\nimputer = Imputer(inputCols=numerikler, outputCols=numerik_imputed_cols, strategy='median')","user":"anonymous","dateUpdated":"2019-04-30T11:24:11+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027406_-844037006","id":"20190427-192556_2005801076","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:24:11+0000","dateFinished":"2019-04-30T11:24:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6507"},{"text":"%md\n## StringIndexer Aşaması","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>StringIndexer Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027406_-844037006","id":"20190426-085754_1514608529","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6508"},{"text":"%pyspark\nfrom pyspark.ml.feature import StringIndexer\n# oluşacak stringIndexer nesnelerini dinamik olarak toplayacağımız sözlük\nstring_indexer_dict = {}\n\n# her bir nitelik için bir stringIndexer nesnesi oluştur ve sözlüğe o sütun anahtarıyla ekle.\nfor column in kategorikler:\n    string_indexer_dict[column] = StringIndexer(inputCol=column, outputCol=column+\"_indexed\", handleInvalid=\"skip\")\n\n# Yukarıda sözlük içinde oluşturduğumuz nesneleri bir listeye toplayalım\nstrig_indexed_object_list = []\nfor i in string_indexer_dict:\n    strig_indexed_object_list.append(string_indexer_dict.get(i))","user":"anonymous","dateUpdated":"2019-04-30T11:24:18+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027407_-844421755","id":"20190426-112530_1033069687","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:24:18+0000","dateFinished":"2019-04-30T11:24:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6509"},{"text":"%md\n## OneHotEncoder Aşaması","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>OneHotEncoder Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027407_-844421755","id":"20190426-084607_466447386","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6510"},{"text":"%pyspark\nfrom pyspark.ml.feature import OneHotEncoder\n# oluşacak stringIndexer nesnelerini dinamik olarak toplayacağımız sözlük\nonehot_dict = {}\n\n# stringIndexer'dan çıkan sütun isimlerinin toplanacağı liste \nonehot_sutun_isimleri = []\n\n# her bir nitelik için bir oneHotEncoder nesnesi oluştur ve sözlüğe o sütun anahtarıyla ekle\nfor column in kategorikler:\n    onehot_dict[column] = OneHotEncoder(inputCol=column+\"_indexed\", outputCol=column+\"_onehot\")\n    onehot_sutun_isimleri.append(column+\"_onehot\")\n\n# Yukarıda sözlük içinde oluşturduğumuz nesneleri bir listeye toplayalım\nonehot_object_list = []\nfor i in onehot_dict:\n    onehot_object_list.append(onehot_dict.get(i))","user":"anonymous","dateUpdated":"2019-04-30T11:24:26+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027407_-844421755","id":"20190426-113120_1997058320","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:24:27+0000","dateFinished":"2019-04-30T11:24:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6511"},{"text":"%md\n## labelIndexer Aşaması\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>labelIndexer Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027407_-844421755","id":"20190426-115003_993446553","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6512"},{"text":"%pyspark\nlabel_indexer = StringIndexer(inputCol=\"satinaldimi\", outputCol=\"label\", handleInvalid=\"skip\")","user":"anonymous","dateUpdated":"2019-04-30T11:25:16+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027408_-834033535","id":"20190426-091453_739876732","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:25:16+0000","dateFinished":"2019-04-30T11:25:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6513"},{"text":"%md\n## VectorAssembler Aşaması\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>VectorAssembler Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027408_-834033535","id":"20190426-115024_906351708","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6514"},{"text":"%pyspark\nfrom pyspark.ml.feature import VectorAssembler\nassembler = VectorAssembler(inputCols=onehot_sutun_isimleri+numerik_imputed_cols, outputCol=\"features\")","user":"anonymous","dateUpdated":"2019-04-30T11:25:22+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027408_-834033535","id":"20190426-114759_1655332708","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:25:22+0000","dateFinished":"2019-04-30T11:25:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6515"},{"text":"%md\n## Standardizasyon Aşaması\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Standardizasyon Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027408_-834033535","id":"20190427-203834_897410439","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6516"},{"text":"%pyspark\nfrom pyspark.ml.feature import StandardScaler\nscaler = StandardScaler(inputCol=\"features\", outputCol=\"scaled_features\")","user":"anonymous","dateUpdated":"2019-04-30T11:25:25+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027408_-834033535","id":"20190426-101539_766109072","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:25:25+0000","dateFinished":"2019-04-30T11:25:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6517"},{"text":"%md\n## Veriyi Eğitim ve Test Olarak Bölme Aşaması","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Veriyi Eğitim ve Test Olarak Bölme Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027408_-834033535","id":"20190427-203924_1336726773","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6518"},{"text":"%pyspark\n# Veriyi eğitim ve test olarak bölme\ntrain_df, test_df = df2.randomSplit([0.8, 0.2], seed=142)","user":"anonymous","dateUpdated":"2019-04-30T11:30:45+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027409_-834418283","id":"20190426-102324_861256725","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:30:45+0000","dateFinished":"2019-04-30T11:30:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6519"},{"text":"%md\n## Model Aşaması\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027409_-834418283","id":"20190427-204147_208366725","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6520"},{"text":"%pyspark\nfrom pyspark.ml.classification import LogisticRegression\nclassifier = LogisticRegression(featuresCol=\"scaled_features\", labelCol=\"label\")","user":"anonymous","dateUpdated":"2019-04-30T11:25:34+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027409_-834418283","id":"20190426-101642_1482815238","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:25:34+0000","dateFinished":"2019-04-30T11:25:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6521"},{"text":"%md\n## Pipeline Aşaması\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Pipeline Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027409_-834418283","id":"20190427-204236_1637401710","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6522"},{"text":"%pyspark\nfrom pyspark.ml import Pipeline, PipelineModel\npipeline_obj = Pipeline(stages = [imputer]+strig_indexed_object_list+onehot_object_list+[assembler, label_indexer, scaler, classifier])","user":"anonymous","dateUpdated":"2019-04-30T11:25:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027409_-834418283","id":"20190426-101640_253872821","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:25:40+0000","dateFinished":"2019-04-30T11:25:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6523"},{"text":"%md\n## Model Eğitme Aşaması","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Eğitme Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027409_-834418283","id":"20190427-212337_1624661704","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6524"},{"text":"%pyspark\nfrom pyspark.ml.tuning import CrossValidator, ParamGridBuilder\nfrom pyspark.ml.evaluation import BinaryClassificationEvaluator\nparamGrid = ParamGridBuilder() \\\n    .addGrid(classifier.elasticNetParam, [0.5, 0.1]) \\\n    .addGrid(classifier.regParam, [0.1, 0.01]) \\\n    .build()\n\nevaluator = BinaryClassificationEvaluator(rawPredictionCol=\"rawPrediction\", metricName= \"areaUnderROC\")\n\ncrossval = CrossValidator(estimator=pipeline_obj,\n                          estimatorParamMaps=paramGrid,\n                          evaluator=evaluator,\n                          numFolds=2)  # use 3+ folds in practice\n\n# Run cross-validation, and choose the best set of parameters.\ncvModel = crossval.fit(train_df)","user":"anonymous","dateUpdated":"2019-04-30T11:30:57+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027410_-833264037","id":"20190426-101955_214390745","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:30:57+0000","dateFinished":"2019-04-30T11:32:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6525"},{"text":"%md\n## En iyi modeli seçme\n","user":"anonymous","dateUpdated":"2019-04-30T11:31:45+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>En iyi modeli seçme</h2>\n"}]},"apps":[],"jobName":"paragraph_1556623890628_997315472","id":"20190430-113130_1882665622","dateCreated":"2019-04-30T11:31:30+0000","dateStarted":"2019-04-30T11:31:45+0000","dateFinished":"2019-04-30T11:31:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6526"},{"text":"%pyspark\nbest_pipeline_model = cvModel.bestModel","user":"anonymous","dateUpdated":"2019-04-30T11:33:08+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556623893112_-477411738","id":"20190430-113133_1803719456","dateCreated":"2019-04-30T11:31:33+0000","dateStarted":"2019-04-30T11:33:08+0000","dateFinished":"2019-04-30T11:33:08+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6527"},{"text":"%md\n## En İyi PipelineModel İçinden LogisticRegression Modeli Alma","user":"anonymous","dateUpdated":"2019-04-30T11:32:38+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>En İyi PipelineModel İçinden LogisticRegression Modeli Alma</h2>\n"}]},"apps":[],"jobName":"paragraph_1556623942875_985631799","id":"20190430-113222_1260514468","dateCreated":"2019-04-30T11:32:22+0000","dateStarted":"2019-04-30T11:32:38+0000","dateFinished":"2019-04-30T11:32:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6528"},{"text":"%pyspark\nbest_lr_model = best_pipeline_model.stages[-1]\ntype(best_lr_model)","user":"anonymous","dateUpdated":"2019-04-30T11:33:13+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"<class 'pyspark.ml.classification.LogisticRegressionModel'>\n"}]},"apps":[],"jobName":"paragraph_1556623947599_-1888842558","id":"20190430-113227_1232289502","dateCreated":"2019-04-30T11:32:27+0000","dateStarted":"2019-04-30T11:33:13+0000","dateFinished":"2019-04-30T11:33:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6529"},{"text":"%pyspark\nprint(\"Coefficients: \" + str(best_lr_model.coefficients))\nprint(\"Intercept: \" + str(best_lr_model.intercept))","user":"anonymous","dateUpdated":"2019-04-30T11:33:17+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Coefficients: [0.0,0.9503769789851897,0.5074011490895609]\nIntercept: -5.212254291323882\n"}]},"apps":[],"jobName":"paragraph_1556623973895_-2037324985","id":"20190430-113253_2139544918","dateCreated":"2019-04-30T11:32:53+0000","dateStarted":"2019-04-30T11:33:17+0000","dateFinished":"2019-04-30T11:33:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6530"},{"text":"%pyspark\ntrainingSummary = best_lr_model.summary\ntrainingSummary.roc.show(5)","user":"anonymous","dateUpdated":"2019-04-30T11:33:32+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---+--------------------+\n|FPR|                 TPR|\n+---+--------------------+\n|0.0|                 0.0|\n|0.0|0.018018018018018018|\n|0.0|0.036036036036036036|\n|0.0| 0.05405405405405406|\n|0.0| 0.07207207207207207|\n+---+--------------------+\nonly showing top 5 rows\n\n"}]},"apps":[],"jobName":"paragraph_1556623973647_-1744915821","id":"20190430-113253_1930053278","dateCreated":"2019-04-30T11:32:53+0000","dateStarted":"2019-04-30T11:33:32+0000","dateFinished":"2019-04-30T11:33:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6531"},{"text":"%md\n### ROC Çizim","user":"anonymous","dateUpdated":"2019-04-30T11:33:49+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>ROC Çizim</h3>\n"}]},"apps":[],"jobName":"paragraph_1556623973370_-1527532693","id":"20190430-113253_172019732","dateCreated":"2019-04-30T11:32:53+0000","dateStarted":"2019-04-30T11:33:49+0000","dateFinished":"2019-04-30T11:33:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6532"},{"text":"%pyspark\nx = trainingSummary.roc.select(\"FPR\").toPandas()\ny = trainingSummary.roc.select(\"TPR\").toPandas()","user":"anonymous","dateUpdated":"2019-04-30T11:33:59+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556623973032_-1608329962","id":"20190430-113253_996612842","dateCreated":"2019-04-30T11:32:53+0000","dateStarted":"2019-04-30T11:33:59+0000","dateFinished":"2019-04-30T11:34:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6533"},{"text":"%pyspark\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\nplt.figure(figsize=(9,6)) # Kanvas ebadı\nplt.plot(x,y, label='ROC') # x ve y eksenleri içi veri ne olacak, etiket\n\nplt.xlabel('FPR') # x ekseni etiketi\nplt.ylabel('TPR') # ye ekseni etiketi\n\nplt.title(\"ROC\") # Grafik başlığı\n\nplt.legend(loc='lower right')\nplt.show()","user":"anonymous","dateUpdated":"2019-04-30T11:34:10+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div style='width:auto;height:auto'><img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAogAAAGwCAYAAAAqiJTnAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDMuMC4zLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvnQurowAAIABJREFUeJzt3XtYVXWi//HP5ibeQEVIBQxxFyKKMIFilqVWlo1kM0VUR/N0wdR+PZbdftNk2VhZc6Y5lVlDOdPFwuPUnKBJcdI5OE1qtr2lookXlE1OCl5ABRFY549p+PX9eUOFvdh7v1/P0/PMZi+ZD0sn37P2zWFZliUAAADgBwF2DwAAAEDbQiACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCACAADAQCAC8FtxcXFq3769OnXqpB49emjixIk6cuRI0/0rVqzQyJEj1blzZ4WHh2vs2LEqLi42vkdVVZWmTZum3r17q1OnTurbt6+mTZumiooKT/84ANBiCEQAfu3TTz/VkSNHtH79eq1bt04vvPCCJGnlypW67rrrdNNNN+m7777Trl27NGjQIA0bNkw7d+6UJNXV1WnUqFHavHmzCgsLVVVVpZUrVyoiIkKrV6+288cCgAvisCzLsnsEANghLi5Ob7/9tq655hpJ0mOPPabNmzfrs88+05VXXqmBAwdq7ty5xq+54YYbFBkZqffee09vv/22nnzySe3YsUOdOnWy40cAgFbBFUQAkOR2u7V48WI5nU4dO3ZMK1as0K233nrScVlZWfr8888lSUuXLtX1119PHALwOQQiAL82btw4de7cWbGxsYqKitLMmTN14MABNTY2qmfPnicd37Nnz6bnF1ZWVp7yGADwdgQiAL/2ySefqLq6WkVFRdq6dasqKirUtWtXBQQEaO/evScdv3fvXnXv3l2SFBERccpjAMDb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 style='width=auto;height:auto'><div>\n"}]},"apps":[],"jobName":"paragraph_1556623972376_-1442118437","id":"20190430-113252_231591101","dateCreated":"2019-04-30T11:32:52+0000","dateStarted":"2019-04-30T11:34:10+0000","dateFinished":"2019-04-30T11:34:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6534"},{"text":"%md\n## Model Değerlendirme","user":"anonymous","dateUpdated":"2019-04-30T11:34:39+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Değerlendirme</h2>\n"}]},"apps":[],"jobName":"paragraph_1556623972313_1596643700","id":"20190430-113252_852388957","dateCreated":"2019-04-30T11:32:52+0000","dateStarted":"2019-04-30T11:34:39+0000","dateFinished":"2019-04-30T11:34:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6535"},{"text":"%pyspark\npipeline_transformed_df = best_pipeline_model.transform(test_df)","user":"anonymous","dateUpdated":"2019-04-30T11:36:28+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556624169917_1124665714","id":"20190430-113609_81406003","dateCreated":"2019-04-30T11:36:09+0000","dateStarted":"2019-04-30T11:36:28+0000","dateFinished":"2019-04-30T11:36:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6536"},{"text":"%pyspark\nbest_lr_model.evaluate(pipeline_transformed_df.drop(\"prediction\",\"rawPrediction\",\"probability\")).pr.show(5)","user":"anonymous","dateUpdated":"2019-04-30T11:42:39+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-------+---------+\n| recall|precision|\n+-------+---------+\n|    0.0|      1.0|\n|0.03125|      1.0|\n| 0.0625|      1.0|\n|0.09375|      1.0|\n|  0.125|      1.0|\n+-------+---------+\nonly showing top 5 rows\n\n"}]},"apps":[],"jobName":"paragraph_1556623971844_1469291814","id":"20190430-113251_1938876700","dateCreated":"2019-04-30T11:32:51+0000","dateStarted":"2019-04-30T11:42:39+0000","dateFinished":"2019-04-30T11:42:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6537"},{"text":"%pyspark\n","user":"anonymous","dateUpdated":"2019-04-30T11:32:51+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1556623971385_1658203524","id":"20190430-113251_871995935","dateCreated":"2019-04-30T11:32:51+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:6538"},{"text":"%md\n## Eğitilmiş Modeli Saklama\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Eğitilmiş Modeli Saklama</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027410_-833264037","id":"20190428-103932_1762543699","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6539"},{"text":"%pyspark\nbest_pipeline_model.save(\"/home/maria_dev/ml_models/churn_log_reg_tuned_best_pipe_model\")","user":"anonymous","dateUpdated":"2019-04-30T11:44:10+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027410_-833264037","id":"20190428-103638_143556672","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:44:10+0000","dateFinished":"2019-04-30T11:44:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6540"},{"text":"%md\n## Saklanmış Modeli Okuma\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Saklanmış Modeli Okuma</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027410_-833264037","id":"20190428-103954_393950106","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6541"},{"text":"%pyspark\nloaded_best_pipeline_model = PipelineModel.load(\"/home/maria_dev/ml_models/churn_log_reg_tuned_best_pipe_model\")","user":"anonymous","dateUpdated":"2019-04-30T11:45:59+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027410_-833264037","id":"20190428-103819_434634736","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:46:00+0000","dateFinished":"2019-04-30T11:46:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6542"},{"text":"%md\n## Saklanmış Modelden Test Verisini Geçirme","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Saklanmış Modelden Test Verisini Geçirme</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027410_-833264037","id":"20190428-104056_62422423","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6543"},{"text":"%pyspark\npipeline_transformed_df = loaded_best_pipeline_model.transform(test_df)\n\nz.show(pipeline_transformed_df.limit(20))","user":"anonymous","dateUpdated":"2019-04-30T11:46:33+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"kullaniciid\tcinsiyet\tyas\ttahminimaas\tsatinaldimi\tyas_imputer\ttahminimaas_imputer\tcinsiyet_indexed\tcinsiyet_onehot\tfeatures\tlabel\tscaled_features\trawPrediction\tprobability\tprediction\n15570769\tKadın\t26.0\t80000.0\t0.0\t26.0\t80000.0\t0.0\t(1,[0],[1.0])\t[1.0,26.0,80000.0]\t0.0\t[2.0004393892542454,2.478071177989792,2.3318193436200203]\t[1.673984677053609,-1.673984677053609]\t[0.8421063592410447,0.15789364075895537]\t0.0\n15573452\tKadın\t21.0\t16000.0\t0.0\t21.0\t16000.0\t0.0\t(1,[0],[1.0])\t[1.0,21.0,16000.0]\t0.0\t[2.0004393892542454,2.0015190283763706,0.4663638687240041]\t[3.0734231208697618,-3.0734231208697618]\t[0.955783065571521,0.044216934428478884]\t0.0\n15574372\tKadın\t58.0\t47000.0\t1.0\t58.0\t47000.0\t0.0\t(1,[0],[1.0])\t[1.0,58.0,47000.0]\t1.0\t[2.0004393892542454,5.52800493551569,1.369943864376762]\t[-0.7365454300797003,0.7365454300797003]\t[0.3237600245153881,0.6762399754846119]\t1.0\n15575002\tKadın\t35.0\t60000.0\t0.0\t35.0\t60000.0\t0.0\t(1,[0],[1.0])\t[1.0,35.0,60000.0]\t0.0\t[2.0004393892542454,3.3358650472939506,1.7488645077150153]\t[1.1545490845578223,-1.1545490845578223]\t[0.7603408446303432,0.2396591553696567]\t0.0\n15578006\tErkek\t23.0\t63000.0\t0.0\t23.0\t63000.0\t1.0\t(1,[],[])\t[0.0,23.0,63000.0]\t0.0\t[0.0,2.192139888221739,1.8363077331007662]\t[2.197150352985399,-2.197150352985399]\t[0.8999933196100901,0.10000668038990983]\t0.0\n15583681\tErkek\t32.0\t120000.0\t1.0\t32.0\t120000.0\t1.0\t(1,[],[])\t[0.0,32.0,120000.0]\t1.0\t[0.0,3.049933757525898,3.4977290154300307]\t[0.5389157391083756,-0.5389157391083756]\t[0.6315601549902233,0.3684398450097766]\t0.0\n15586757\tErkek\t39.0\t134000.0\t1.0\t39.0\t134000.0\t1.0\t(1,[],[])\t[0.0,39.0,134000.0]\t1.0\t[0.0,3.717106766984688,3.9057974005635345]\t[-0.3022044976053886,0.3022044976053886]\t[0.42501866406853134,0.5749813359314686]\t1.0\n15587177\tErkek\t40.0\t65000.0\t0.0\t40.0\t65000.0\t1.0\t(1,[],[])\t[0.0,40.0,65000.0]\t0.0\t[0.0,3.812417196907372,1.8946032166912667]\t[0.6276969038779416,-0.6276969038779416]\t[0.6519670589034322,0.3480329410965678]\t0.0\n15587419\tKadın\t42.0\t90000.0\t1.0\t42.0\t90000.0\t0.0\t(1,[0],[1.0])\t[1.0,42.0,90000.0]\t1.0\t[2.0004393892542454,4.003038056752741,2.623296761572523]\t[0.07679528495964494,-0.07679528495964494]\t[0.5191893913552074,0.4808106086447926]\t0.0\n15591915\tKadın\t33.0\t51000.0\t0.0\t33.0\t51000.0\t0.0\t(1,[0],[1.0])\t[1.0,33.0,51000.0]\t0.0\t[2.0004393892542454,3.145244187448582,1.4865348315577631]\t[1.4688171405917054,-1.4688171405917054]\t[0.8128775306497864,0.18712246935021348]\t0.0\n15592570\tErkek\t47.0\t23000.0\t1.0\t47.0\t23000.0\t1.0\t(1,[],[])\t[0.0,47.0,23000.0]\t1.0\t[0.0,4.479590206366162,0.6703980612907559]\t[0.6147941372596231,-0.6147941372596231]\t[0.6490336324204913,0.35096636757950866]\t0.0\n15593715\tErkek\t60.0\t102000.0\t1.0\t60.0\t102000.0\t1.0\t(1,[],[])\t[0.0,60.0,102000.0]\t1.0\t[0.0,5.718625795361058,2.9730696631155262]\t[-1.7311349794062698,1.7311349794062698]\t[0.15044246100593167,0.8495575389940683]\t1.0\n15594577\tErkek\t25.0\t22000.0\t0.0\t25.0\t22000.0\t1.0\t(1,[],[])\t[0.0,25.0,22000.0]\t0.0\t[0.0,2.3827607480671076,0.6412503194955056]\t[2.622362180965306,-2.622362180965306]\t[0.9322869784662354,0.06771302153376461]\t0.0\n15595324\tKadın\t31.0\t68000.0\t0.0\t31.0\t68000.0\t0.0\t(1,[0],[1.0])\t[1.0,31.0,68000.0]\t0.0\t[2.0004393892542454,2.9546233276032137,1.9820464420770174]\t[1.398555656938417,-1.398555656938417]\t[0.8019545930901089,0.1980454069098912]\t0.0\n15596522\tErkek\t49.0\t89000.0\t1.0\t49.0\t89000.0\t1.0\t(1,[],[])\t[0.0,49.0,89000.0]\t1.0\t[0.0,4.670211066211531,2.594149019777273]\t[-0.5424809865499807,0.5424809865499807]\t[0.3676106305341202,0.6323893694658799]\t1.0\n15598044\tKadın\t27.0\t84000.0\t0.0\t27.0\t84000.0\t0.0\t(1,[0],[1.0])\t[1.0,27.0,84000.0]\t0.0\t[2.0004393892542454,2.5733816079124763,2.4484103108010213]\t[1.524245447876806,-1.524245447876806]\t[0.8211627938482994,0.17883720615170065]\t0.0\n15600575\tErkek\t25.0\t33000.0\t0.0\t25.0\t33000.0\t1.0\t(1,[],[])\t[0.0,25.0,33000.0]\t0.0\t[0.0,2.3827607480671076,0.9618754792432584]\t[2.4596766064822724,-2.4596766064822724]\t[0.9212662087468262,0.0787337912531737]\t0.0\n15601550\tKadın\t36.0\t54000.0\t0.0\t36.0\t54000.0\t0.0\t(1,[0],[1.0])\t[1.0,36.0,54000.0]\t0.0\t[2.0004393892542454,3.431175477216635,1.5739780569435138]\t[1.1527058321837762,-1.1527058321837762]\t[0.7600048011447009,0.239995198855299]\t0.0\n15610403\tKadın\t28.0\t59000.0\t0.0\t28.0\t59000.0\t0.0\t(1,[0],[1.0])\t[1.0,28.0,59000.0]\t0.0\t[2.0004393892542454,2.6686920378351604,1.7197167659197652]\t[1.8034045514280002,-1.8034045514280002]\t[0.8585628637806603,0.14143713621933965]\t0.0\n15610801\tErkek\t42.0\t65000.0\t0.0\t42.0\t65000.0\t1.0\t(1,[],[])\t[0.0,42.0,65000.0]\t0.0\t[0.0,4.003038056752741,1.8946032166912667]\t[0.4465352269665406,-0.4465352269665406]\t[0.6098151380320815,0.39018486196791846]\t0.0\n"}]},"apps":[],"jobName":"paragraph_1556608027410_-833264037","id":"20190427-225737_685759584","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:46:33+0000","dateFinished":"2019-04-30T11:46:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6544"},{"text":"%md\n## Model Değerlendirme\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Değerlendirme</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027411_-833648786","id":"20190428-104137_1937418783","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6545"},{"text":"%pyspark\nfrom pyspark.ml.evaluation import BinaryClassificationEvaluator","user":"anonymous","dateUpdated":"2019-04-30T11:48:59+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556608027411_-833648786","id":"20190426-101954_1744634808","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:49:00+0000","dateFinished":"2019-04-30T11:49:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6546"},{"text":"%pyspark\nevaluator = BinaryClassificationEvaluator(rawPredictionCol=\"rawPrediction\", metricName=\"areaUnderROC\")\nevaluator.evaluate(pipeline_transformed_df)","user":"anonymous","dateUpdated":"2019-04-30T11:49:04+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.9430147058823529\n"}]},"apps":[],"jobName":"paragraph_1556608027411_-833648786","id":"20190426-103057_1277352167","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:49:04+0000","dateFinished":"2019-04-30T11:49:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6547"},{"text":"%pyspark\npipeline_transformed_df.select(\"label\",\"prediction\").show()","user":"anonymous","dateUpdated":"2019-04-30T11:49:07+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----+----------+\n|label|prediction|\n+-----+----------+\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  1.0|       1.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  1.0|       0.0|\n|  1.0|       1.0|\n|  0.0|       0.0|\n|  1.0|       0.0|\n|  0.0|       0.0|\n|  1.0|       0.0|\n|  1.0|       1.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  1.0|       1.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n+-----+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1556608027412_-835572530","id":"20190426-103901_938768731","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:49:08+0000","dateFinished":"2019-04-30T11:49:08+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6548"},{"text":"%pyspark\n# accuracy hesaplama\ntp = pipeline_transformed_df.select(\"label\",\"prediction\").where((pipeline_transformed_df.label == 1) & (pipeline_transformed_df.prediction ==1)).count()\n\ntn = pipeline_transformed_df.select(\"label\",\"prediction\").where((pipeline_transformed_df.label == 0) & (pipeline_transformed_df.prediction ==0)).count()\n\nfp = pipeline_transformed_df.select(\"label\",\"prediction\").where((pipeline_transformed_df.label == 0) & (pipeline_transformed_df.prediction ==1)).count()\n\nfn = pipeline_transformed_df.select(\"label\",\"prediction\").where((pipeline_transformed_df.label == 1) & (pipeline_transformed_df.prediction ==0)).count()\n\ntotal = pipeline_transformed_df.count()\n\nprint(\"tp: \", tp)\nprint(\"tn: \", tn)\nprint(\"fp: \", fp)\nprint(\"tp: \", tp)\nprint(\"fn: \", fn)\nprint(\"toplam: \", total)","user":"anonymous","dateUpdated":"2019-04-30T11:49:11+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"tp:  17\ntn:  50\nfp:  1\ntp:  17\nfn:  15\ntoplam:  83\n"}]},"apps":[],"jobName":"paragraph_1556608027412_-835572530","id":"20190426-103952_1121832729","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:49:11+0000","dateFinished":"2019-04-30T11:49:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6549"},{"text":"%pyspark\naccuracy = (tp+tn)/total\n\nprint(\"%\",accuracy*100)","user":"anonymous","dateUpdated":"2019-04-30T11:49:15+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":" 80.72289156626506\n"}]},"apps":[],"jobName":"paragraph_1556608027412_-835572530","id":"20190426-105546_2118680281","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:49:15+0000","dateFinished":"2019-04-30T11:49:15+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6550"},{"text":"%pyspark\nprecision = tp / (tp + fp)\nrecall = tp / (tp + fn)\nprint(\"precision:\",precision)\nprint(\"recall:\",recall)","user":"anonymous","dateUpdated":"2019-04-30T11:49:23+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"precision: 0.9444444444444444\nrecall: 0.53125\n"}]},"apps":[],"jobName":"paragraph_1556608027412_-835572530","id":"20190428-104658_1928709037","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:49:24+0000","dateFinished":"2019-04-30T11:49:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6551"},{"text":"%pyspark\nf1 = (precision * recall) / (precision + recall)\nprint(f1)","user":"anonymous","dateUpdated":"2019-04-30T11:49:29+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.33999999999999997\n"}]},"apps":[],"jobName":"paragraph_1556608027412_-835572530","id":"20190428-104918_1756385121","dateCreated":"2019-04-30T07:07:07+0000","dateStarted":"2019-04-30T11:49:30+0000","dateFinished":"2019-04-30T11:49:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6552"},{"text":"%md\n## Canlı Ortam Öncesi Tüm Veri ile Eğitim","dateUpdated":"2019-04-30T07:07:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Canlı Ortam Öncesi Tüm Veri ile Eğitim</h2>\n"}]},"apps":[],"jobName":"paragraph_1556608027413_-835957279","id":"20190428-105245_927564209","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6553"},{"text":"%pyspark\n","dateUpdated":"2019-04-30T07:07:07+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1556608027413_-835957279","id":"20190428-105237_1113115211","dateCreated":"2019-04-30T07:07:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6554"}],"name":"/hadoop-spark-for-datascientists/sosyalmedya_logistig_reg_model_tune","id":"2ECBZ75CP","angularObjects":{"2CHS8UYQQ:shared_process":[],"2C8A4SZ9T_livy2:shared_process":[],"2CK8A9MEG:shared_process":[],"2C4U48MY3_spark2:shared_process":[],"2CKAY1A8Y:shared_process":[],"2CKEKWY8Z:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}