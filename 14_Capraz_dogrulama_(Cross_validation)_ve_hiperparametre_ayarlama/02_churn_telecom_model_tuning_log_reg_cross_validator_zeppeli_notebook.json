{"paragraphs":[{"text":"%pyspark\n# Veri kaynağı: https://www.kaggle.com/jpacse/datasets-for-churn-telecom#cell2celltrain.csv\ndf = spark.sql(\"select * from azhadoop.cell2celltrain\")","user":"anonymous","dateUpdated":"2019-04-30T10:31:29+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259058_439910941","id":"20190425-200014_892861738","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:31:29+0000","dateFinished":"2019-04-30T10:32:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:24760"},{"text":"%pyspark\n# Dataframe'e göz atma\nz.show(df.limit(5))","user":"anonymous","dateUpdated":"2019-04-28T12:11:54+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"customerid\tchurn\tmonthlyrevenue\tmonthlyminutes\ttotalrecurringcharge\tdirectorassistedcalls\toverageminutes\troamingcalls\tpercchangeminutes\tpercchangerevenues\tdroppedcalls\tblockedcalls\tunansweredcalls\tcustomercarecalls\tthreewaycalls\treceivedcalls\toutboundcalls\tinboundcalls\tpeakcallsinout\toffpeakcallsinout\tdroppedblockedcalls\tcallforwardingcalls\tcallwaitingcalls\tmonthsinservice\tuniquesubs\tactivesubs\tservicearea\thandsets\thandsetmodels\tcurrentequipmentdays\tagehh1\tagehh2\tchildreninhh\thandsetrefurbished\thandsetwebcapable\ttruckowner\trvowner\thomeownership\tbuysviamailorder\trespondstomailoffers\toptoutmailings\tnonustravel\townscomputer\thascreditcard\tretentioncalls\tretentionoffersaccepted\tnewcellphoneuser\tnotnewcellphoneuser\treferralsmadebysubscriber\tincomegroup\townsmotorcycle\tadjustmentstocreditrating\thandsetprice\tmadecalltoretentionteam\tcreditrating\tprizmcode\toccupation\tmaritalstatus\n3000002\tYes\t24.0\t219\t22\t0.25\t0\t0\t-157\t-19.0\t0.7\t0.7\t6.3\t0.0\t0.0\t97.2\t0.0\t0.0\t58.0\t24.0\t1.3\t0\t0.3\t61\t2\t1\tSEAPOR503\t2\t2\t361\t62\t0\tNo\tNo\tYes\tNo\tNo\tKnown\tYes\tYes\tNo\tNo\tYes\tYes\t1\t0\tNo\tNo\t0\t4\tNo\t0\t30\tYes\t1-Highest\tSuburban\tProfessional\tNo\n3000010\tYes\t16.99\t10\t17\t0.0\t0\t0\t-4\t0.0\t0.3\t0.0\t2.7\t0.0\t0.0\t0.0\t0.0\t0.0\t5.0\t1.0\t0.3\t0\t0.0\t58\t1\t1\tPITHOM412\t2\t1\t1504\t40\t42\tYes\tNo\tNo\tNo\tNo\tKnown\tYes\tYes\tNo\tNo\tYes\tYes\t0\t0\tYes\tNo\t0\t5\tNo\t0\t30\tNo\t4-Medium\tSuburban\tProfessional\tYes\n3000014\tNo\t38.0\t8\t38\t0.0\t0\t0\t-2\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.4\t0.3\t0.0\t1.3\t3.7\t0.0\t0\t0.0\t60\t1\t1\tMILMIL414\t1\t1\t1812\t26\t26\tYes\tNo\tNo\tNo\tNo\tUnknown\tNo\tNo\tNo\tNo\tNo\tYes\t0\t0\tYes\tNo\t0\t6\tNo\t0\tUnknown\tNo\t3-Good\tTown\tCrafts\tYes\n3000022\tNo\t82.28\t1312\t75\t1.24\t0\t0\t157\t8.1\t52.0\t7.7\t76.0\t4.3\t1.3\t200.3\t370.3\t147.0\t555.7\t303.7\t59.7\t0\t22.7\t59\t2\t2\tPITHOM412\t9\t4\t458\t30\t0\tNo\tNo\tYes\tNo\tNo\tKnown\tYes\tYes\tNo\tNo\tNo\tYes\t0\t0\tYes\tNo\t0\t6\tNo\t0\t10\tNo\t4-Medium\tOther\tOther\tNo\n3000026\tYes\t17.14\t0\t17\t0.0\t0\t0\t0\t-0.2\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0\t0.0\t53\t2\t2\tOKCTUL918\t4\t3\t852\t46\t54\tNo\tNo\tNo\tNo\tNo\tKnown\tYes\tYes\tNo\tNo\tYes\tYes\t0\t0\tNo\tYes\t0\t9\tNo\t1\t10\tNo\t1-Highest\tOther\tProfessional\tYes\n"}]},"apps":[],"jobName":"paragraph_1556450259060_437602447","id":"20190425-200201_1475409006","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T12:11:54+0000","dateFinished":"2019-04-28T12:12:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24761"},{"text":"%pyspark\n# Şemaya bakış\ndf.printSchema()","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- customerid: integer (nullable = true)\n |-- churn: string (nullable = true)\n |-- monthlyrevenue: double (nullable = true)\n |-- monthlyminutes: integer (nullable = true)\n |-- totalrecurringcharge: integer (nullable = true)\n |-- directorassistedcalls: double (nullable = true)\n |-- overageminutes: integer (nullable = true)\n |-- roamingcalls: integer (nullable = true)\n |-- percchangeminutes: integer (nullable = true)\n |-- percchangerevenues: double (nullable = true)\n |-- droppedcalls: double (nullable = true)\n |-- blockedcalls: double (nullable = true)\n |-- unansweredcalls: double (nullable = true)\n |-- customercarecalls: double (nullable = true)\n |-- threewaycalls: double (nullable = true)\n |-- receivedcalls: double (nullable = true)\n |-- outboundcalls: double (nullable = true)\n |-- inboundcalls: double (nullable = true)\n |-- peakcallsinout: double (nullable = true)\n |-- offpeakcallsinout: double (nullable = true)\n |-- droppedblockedcalls: double (nullable = true)\n |-- callforwardingcalls: integer (nullable = true)\n |-- callwaitingcalls: double (nullable = true)\n |-- monthsinservice: integer (nullable = true)\n |-- uniquesubs: integer (nullable = true)\n |-- activesubs: integer (nullable = true)\n |-- servicearea: string (nullable = true)\n |-- handsets: integer (nullable = true)\n |-- handsetmodels: integer (nullable = true)\n |-- currentequipmentdays: integer (nullable = true)\n |-- agehh1: integer (nullable = true)\n |-- agehh2: integer (nullable = true)\n |-- childreninhh: string (nullable = true)\n |-- handsetrefurbished: string (nullable = true)\n |-- handsetwebcapable: string (nullable = true)\n |-- truckowner: string (nullable = true)\n |-- rvowner: string (nullable = true)\n |-- homeownership: string (nullable = true)\n |-- buysviamailorder: string (nullable = true)\n |-- respondstomailoffers: string (nullable = true)\n |-- optoutmailings: string (nullable = true)\n |-- nonustravel: string (nullable = true)\n |-- ownscomputer: string (nullable = true)\n |-- hascreditcard: string (nullable = true)\n |-- retentioncalls: integer (nullable = true)\n |-- retentionoffersaccepted: integer (nullable = true)\n |-- newcellphoneuser: string (nullable = true)\n |-- notnewcellphoneuser: string (nullable = true)\n |-- referralsmadebysubscriber: integer (nullable = true)\n |-- incomegroup: integer (nullable = true)\n |-- ownsmotorcycle: string (nullable = true)\n |-- adjustmentstocreditrating: integer (nullable = true)\n |-- handsetprice: string (nullable = true)\n |-- madecalltoretentionteam: string (nullable = true)\n |-- creditrating: string (nullable = true)\n |-- prizmcode: string (nullable = true)\n |-- occupation: string (nullable = true)\n |-- maritalstatus: string (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1556450259061_437217698","id":"20190427-173116_2013799413","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24762"},{"text":"%md\n### integer değerleri double yapma\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>integer değerleri double yapma</h3>\n"}]},"apps":[],"jobName":"paragraph_1556450259061_437217698","id":"20190427-211012_604960860","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24763"},{"text":"%pyspark\nfrom pyspark.sql import functions as f\ndf_dbl = df\n# Girdi olarak IntegerType istemiyoruz\nfor c in df_dbl.columns:\n    if(str(df_dbl.schema[c].dataType) == \"IntegerType\"):\n        df_dbl = df_dbl.withColumn(c, f.col(c).cast(\"double\"))","user":"anonymous","dateUpdated":"2019-04-30T10:31:38+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259061_437217698","id":"20190427-204924_428777996","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:31:38+0000","dateFinished":"2019-04-30T10:32:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24764"},{"text":"%pyspark\ndf_dbl.printSchema()","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- customerid: double (nullable = true)\n |-- churn: string (nullable = true)\n |-- monthlyrevenue: double (nullable = true)\n |-- monthlyminutes: double (nullable = true)\n |-- totalrecurringcharge: double (nullable = true)\n |-- directorassistedcalls: double (nullable = true)\n |-- overageminutes: double (nullable = true)\n |-- roamingcalls: double (nullable = true)\n |-- percchangeminutes: double (nullable = true)\n |-- percchangerevenues: double (nullable = true)\n |-- droppedcalls: double (nullable = true)\n |-- blockedcalls: double (nullable = true)\n |-- unansweredcalls: double (nullable = true)\n |-- customercarecalls: double (nullable = true)\n |-- threewaycalls: double (nullable = true)\n |-- receivedcalls: double (nullable = true)\n |-- outboundcalls: double (nullable = true)\n |-- inboundcalls: double (nullable = true)\n |-- peakcallsinout: double (nullable = true)\n |-- offpeakcallsinout: double (nullable = true)\n |-- droppedblockedcalls: double (nullable = true)\n |-- callforwardingcalls: double (nullable = true)\n |-- callwaitingcalls: double (nullable = true)\n |-- monthsinservice: double (nullable = true)\n |-- uniquesubs: double (nullable = true)\n |-- activesubs: double (nullable = true)\n |-- servicearea: string (nullable = true)\n |-- handsets: double (nullable = true)\n |-- handsetmodels: double (nullable = true)\n |-- currentequipmentdays: double (nullable = true)\n |-- agehh1: double (nullable = true)\n |-- agehh2: double (nullable = true)\n |-- childreninhh: string (nullable = true)\n |-- handsetrefurbished: string (nullable = true)\n |-- handsetwebcapable: string (nullable = true)\n |-- truckowner: string (nullable = true)\n |-- rvowner: string (nullable = true)\n |-- homeownership: string (nullable = true)\n |-- buysviamailorder: string (nullable = true)\n |-- respondstomailoffers: string (nullable = true)\n |-- optoutmailings: string (nullable = true)\n |-- nonustravel: string (nullable = true)\n |-- ownscomputer: string (nullable = true)\n |-- hascreditcard: string (nullable = true)\n |-- retentioncalls: double (nullable = true)\n |-- retentionoffersaccepted: double (nullable = true)\n |-- newcellphoneuser: string (nullable = true)\n |-- notnewcellphoneuser: string (nullable = true)\n |-- referralsmadebysubscriber: double (nullable = true)\n |-- incomegroup: double (nullable = true)\n |-- ownsmotorcycle: string (nullable = true)\n |-- adjustmentstocreditrating: double (nullable = true)\n |-- handsetprice: string (nullable = true)\n |-- madecalltoretentionteam: string (nullable = true)\n |-- creditrating: string (nullable = true)\n |-- prizmcode: string (nullable = true)\n |-- occupation: string (nullable = true)\n |-- maritalstatus: string (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1556450259061_437217698","id":"20190427-205318_314242589","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24765"},{"text":"%pyspark\n# Toplam kaç satır var?\ndf_dbl.count()","dateUpdated":"2019-04-28T11:17:39+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"51047\n"}]},"apps":[],"jobName":"paragraph_1556450259061_437217698","id":"20190427-165041_652820817","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24766"},{"text":"%pyspark\n# kategorik, nümerik ve hedef değişkenleri ayırmak\nlabel = []\nanalize_girmeyecekler = []\nkategorikler = []\nnumerikler = []\n\nfor c in df_dbl.columns:\n    if(str(df_dbl.schema[c].dataType) == \"StringType\"):\n        kategorikler.append(c)\n    else:\n        numerikler.append(c)\n\n\n# Hedef değişkeni (churn) label'a ekleyelim\nlabel.append('churn')\n# customerid analize girmeyeceklere eklensin. extend ile çoğul ekleyebiliyoruz.\nanalize_girmeyecekler.extend(['customerid']) \n\nkategorikler = [c for c in kategorikler if c not in (label+analize_girmeyecekler)]\n#customerid analize girmesi nümerik veri türü var ancak kategorik.Önce numerikler den çıkaralım sonra analize_girmeyeceklere ekleyelim\nnumerikler = [c for c in numerikler if c not in (label+analize_girmeyecekler)]\n\n","user":"anonymous","dateUpdated":"2019-04-30T10:37:45+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259061_437217698","id":"20190427-165609_99663083","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:37:45+0000","dateFinished":"2019-04-30T10:37:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24767"},{"text":"%pyspark\nprint(label)\nprint(kategorikler)\nprint(numerikler)\nprint(analize_girmeyecekler)","user":"anonymous","dateUpdated":"2019-04-30T10:37:49+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['churn']\n['servicearea', 'childreninhh', 'handsetrefurbished', 'handsetwebcapable', 'truckowner', 'rvowner', 'homeownership', 'buysviamailorder', 'respondstomailoffers', 'optoutmailings', 'nonustravel', 'ownscomputer', 'hascreditcard', 'newcellphoneuser', 'notnewcellphoneuser', 'ownsmotorcycle', 'handsetprice', 'madecalltoretentionteam', 'creditrating', 'prizmcode', 'occupation', 'maritalstatus']\n['monthlyrevenue', 'monthlyminutes', 'totalrecurringcharge', 'directorassistedcalls', 'overageminutes', 'roamingcalls', 'percchangeminutes', 'percchangerevenues', 'droppedcalls', 'blockedcalls', 'unansweredcalls', 'customercarecalls', 'threewaycalls', 'receivedcalls', 'outboundcalls', 'inboundcalls', 'peakcallsinout', 'offpeakcallsinout', 'droppedblockedcalls', 'callforwardingcalls', 'callwaitingcalls', 'monthsinservice', 'uniquesubs', 'activesubs', 'handsets', 'handsetmodels', 'currentequipmentdays', 'agehh1', 'agehh2', 'retentioncalls', 'retentionoffersaccepted', 'referralsmadebysubscriber', 'incomegroup', 'adjustmentstocreditrating']\n['customerid']\n"}]},"apps":[],"jobName":"paragraph_1556450259062_438371945","id":"20190427-170030_1000683209","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:37:49+0000","dateFinished":"2019-04-30T10:37:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24768"},{"text":"%pyspark\n# Boş string değerler (null değil sadece empty) için ayıklama\nfrom pyspark.sql import functions as f\n\ndf_catg = df_dbl\nfor col in kategorikler:\n    df_catg = df_catg.withColumn(col, f.when(df_catg[col] == \"\",\"NA\").otherwise(df_catg[col]))","user":"anonymous","dateUpdated":"2019-04-30T10:38:07+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259062_438371945","id":"20190427-233423_44054776","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:38:08+0000","dateFinished":"2019-04-30T10:38:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24769"},{"text":"%pyspark\n# nitelikleri kategorik, nümerik ve label olarak yeniden sıralayalım\ndf2 = df_catg.select(analize_girmeyecekler+kategorikler+numerikler+label)\nz.show(df2.limit(5))","user":"anonymous","dateUpdated":"2019-04-30T10:38:13+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"customerid\tservicearea\tchildreninhh\thandsetrefurbished\thandsetwebcapable\ttruckowner\trvowner\thomeownership\tbuysviamailorder\trespondstomailoffers\toptoutmailings\tnonustravel\townscomputer\thascreditcard\tnewcellphoneuser\tnotnewcellphoneuser\townsmotorcycle\thandsetprice\tmadecalltoretentionteam\tcreditrating\tprizmcode\toccupation\tmaritalstatus\tmonthlyrevenue\tmonthlyminutes\ttotalrecurringcharge\tdirectorassistedcalls\toverageminutes\troamingcalls\tpercchangeminutes\tpercchangerevenues\tdroppedcalls\tblockedcalls\tunansweredcalls\tcustomercarecalls\tthreewaycalls\treceivedcalls\toutboundcalls\tinboundcalls\tpeakcallsinout\toffpeakcallsinout\tdroppedblockedcalls\tcallforwardingcalls\tcallwaitingcalls\tmonthsinservice\tuniquesubs\tactivesubs\thandsets\thandsetmodels\tcurrentequipmentdays\tagehh1\tagehh2\tretentioncalls\tretentionoffersaccepted\treferralsmadebysubscriber\tincomegroup\tadjustmentstocreditrating\tchurn\n3000002.0\tSEAPOR503\tNo\tNo\tYes\tNo\tNo\tKnown\tYes\tYes\tNo\tNo\tYes\tYes\tNo\tNo\tNo\t30\tYes\t1-Highest\tSuburban\tProfessional\tNo\t24.0\t219.0\t22.0\t0.25\t0.0\t0.0\t-157.0\t-19.0\t0.7\t0.7\t6.3\t0.0\t0.0\t97.2\t0.0\t0.0\t58.0\t24.0\t1.3\t0.0\t0.3\t61.0\t2.0\t1.0\t2.0\t2.0\t361.0\t62.0\t0.0\t1.0\t0.0\t0.0\t4.0\t0.0\tYes\n3000010.0\tPITHOM412\tYes\tNo\tNo\tNo\tNo\tKnown\tYes\tYes\tNo\tNo\tYes\tYes\tYes\tNo\tNo\t30\tNo\t4-Medium\tSuburban\tProfessional\tYes\t16.99\t10.0\t17.0\t0.0\t0.0\t0.0\t-4.0\t0.0\t0.3\t0.0\t2.7\t0.0\t0.0\t0.0\t0.0\t0.0\t5.0\t1.0\t0.3\t0.0\t0.0\t58.0\t1.0\t1.0\t2.0\t1.0\t1504.0\t40.0\t42.0\t0.0\t0.0\t0.0\t5.0\t0.0\tYes\n3000014.0\tMILMIL414\tYes\tNo\tNo\tNo\tNo\tUnknown\tNo\tNo\tNo\tNo\tNo\tYes\tYes\tNo\tNo\tUnknown\tNo\t3-Good\tTown\tCrafts\tYes\t38.0\t8.0\t38.0\t0.0\t0.0\t0.0\t-2.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.4\t0.3\t0.0\t1.3\t3.7\t0.0\t0.0\t0.0\t60.0\t1.0\t1.0\t1.0\t1.0\t1812.0\t26.0\t26.0\t0.0\t0.0\t0.0\t6.0\t0.0\tNo\n3000022.0\tPITHOM412\tNo\tNo\tYes\tNo\tNo\tKnown\tYes\tYes\tNo\tNo\tNo\tYes\tYes\tNo\tNo\t10\tNo\t4-Medium\tOther\tOther\tNo\t82.28\t1312.0\t75.0\t1.24\t0.0\t0.0\t157.0\t8.1\t52.0\t7.7\t76.0\t4.3\t1.3\t200.3\t370.3\t147.0\t555.7\t303.7\t59.7\t0.0\t22.7\t59.0\t2.0\t2.0\t9.0\t4.0\t458.0\t30.0\t0.0\t0.0\t0.0\t0.0\t6.0\t0.0\tNo\n3000026.0\tOKCTUL918\tNo\tNo\tNo\tNo\tNo\tKnown\tYes\tYes\tNo\tNo\tYes\tYes\tNo\tYes\tNo\t10\tNo\t1-Highest\tOther\tProfessional\tYes\t17.14\t0.0\t17.0\t0.0\t0.0\t0.0\t0.0\t-0.2\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t53.0\t2.0\t2.0\t4.0\t3.0\t852.0\t46.0\t54.0\t0.0\t0.0\t0.0\t9.0\t1.0\tYes\n"}]},"apps":[],"jobName":"paragraph_1556450259062_438371945","id":"20190427-180230_1320888971","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:38:13+0000","dateFinished":"2019-04-30T10:38:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24770"},{"text":"%pyspark\nz.show(df2.describe())","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"summary\tcustomerid\tservicearea\tchildreninhh\thandsetrefurbished\thandsetwebcapable\ttruckowner\trvowner\thomeownership\tbuysviamailorder\trespondstomailoffers\toptoutmailings\tnonustravel\townscomputer\thascreditcard\tnewcellphoneuser\tnotnewcellphoneuser\townsmotorcycle\thandsetprice\tmadecalltoretentionteam\tcreditrating\tprizmcode\toccupation\tmaritalstatus\tmonthlyrevenue\tmonthlyminutes\ttotalrecurringcharge\tdirectorassistedcalls\toverageminutes\troamingcalls\tpercchangeminutes\tpercchangerevenues\tdroppedcalls\tblockedcalls\tunansweredcalls\tcustomercarecalls\tthreewaycalls\treceivedcalls\toutboundcalls\tinboundcalls\tpeakcallsinout\toffpeakcallsinout\tdroppedblockedcalls\tcallforwardingcalls\tcallwaitingcalls\tmonthsinservice\tuniquesubs\tactivesubs\thandsets\thandsetmodels\tcurrentequipmentdays\tagehh1\tagehh2\tretentioncalls\tretentionoffersaccepted\treferralsmadebysubscriber\tincomegroup\tadjustmentstocreditrating\tchurn\ncount\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t50891\t50891\t50891\t50891\t50891\t50891\t50680\t50680\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51047\t51046\t51046\t51046\t50138\t50138\t51047\t51047\t51047\t51047\t51047\t51047\nmean\t3201956.877818481\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\t82.23793337865398\tnull\tnull\tnull\tnull\tnull\t58.8344923463939\t525.6534161246586\t46.830087834784145\t0.8952290188835189\t40.02778487355328\t1.111945137647128\t-11.547908445146014\t-1.1919850039463182\t6.0114894117185464\t4.085672027739067\t28.288980743236564\t1.8689991576390697\t0.298838325464757\t114.80012145669629\t25.37771465512182\t8.178104491938697\t90.54951515270294\t67.65079044801888\t10.158003408623308\t0.010617666072443042\t1.8405038493937693\t18.756263835289047\t1.5321566399592532\t1.3543401179305345\t1.8056458880225679\t1.5587509305332445\t380.5458410061513\t31.338126770114485\t21.144142167617375\t0.03720101083315376\t0.018277273884851217\t0.05206966129253433\t4.324524457852568\t0.05391110153388054\tnull\nstddev\t116905.56166605534\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\tnull\t60.401984189768086\tnull\tnull\tnull\tnull\tnull\t44.50733565360789\t529.8710628347116\t23.84887070093898\t2.228546017308868\t96.58807592111563\t9.779246684749236\t257.51477231886395\t39.57491526057068\t9.043955458892844\t10.946904606254314\t38.87619422834884\t5.096137719886598\t1.1682765678328197\t166.48589648609632\t35.2091466569411\t16.665877814169438\t104.94747037789936\t92.75269863869451\t15.555283795839788\t0.5867893102705136\t5.5851288287061225\t9.80013752469091\t1.2233842333454994\t0.6754767028851448\t1.3311727978849333\t0.9059322342395197\t253.80198229854253\t22.094635117797626\t23.93136768566701\t0.20648287505567137\t0.14245837105330492\t0.3075917416796367\t3.138236346129114\t0.38314702479363016\tnull\nmin\t3000002.0\tAIRAIK803\tNo\tNo\tNo\tNo\tNo\tKnown\tNo\tNo\tNo\tNo\tNo\tNo\tNo\tNo\tNo\t10\tNo\t1-Highest\tOther\tClerical\tNo\t-6.17\t0.0\t-11.0\t0.0\t0.0\t0.0\t-3875.0\t-1107.7\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t6.0\t1.0\t0.0\t1.0\t1.0\t-5.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\t0.0\tNo\nmax\t3399994.0\tVAHWAY540\tYes\tYes\tYes\tYes\tYes\tUnknown\tYes\tYes\tYes\tYes\tYes\tYes\tYes\tYes\tYes\tUnknown\tYes\t7-Lowest\tTown\tStudent\tYes\t1223.38\t7359.0\t400.0\t159.39\t4321.0\t1112.0\t5192.0\t2483.5\t221.7\t384.3\t848.7\t327.3\t66.0\t2692.4\t644.3\t519.3\t2090.7\t1474.7\t411.7\t81.0\t212.7\t61.0\t196.0\t53.0\t24.0\t15.0\t1812.0\t99.0\t99.0\t4.0\t3.0\t35.0\t9.0\t25.0\tYes\n"}]},"apps":[],"jobName":"paragraph_1556450259062_438371945","id":"20190425-200621_1610568337","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24771"},{"text":"%md\n### Elle null kontrolü\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Elle null kontrolü</h3>\n"}]},"apps":[],"jobName":"paragraph_1556450259062_438371945","id":"20190427-211054_2145376795","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24772"},{"text":"%pyspark\n# Değişkenler içinde null var mı? Kaç tane?:\nfor c in df2.columns:\n    c_null_count = df2.where(df2[c].isNull()).count()\n    if( c_null_count > 0):\n        print(c, \"-> null var:\", c_null_count)\n    else: print(c, \"-> null yok\")\n        ","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"customerid -> null yok\nservicearea -> null yok\nchildreninhh -> null yok\nhandsetrefurbished -> null yok\nhandsetwebcapable -> null yok\ntruckowner -> null yok\nrvowner -> null yok\nhomeownership -> null yok\nbuysviamailorder -> null yok\nrespondstomailoffers -> null yok\noptoutmailings -> null yok\nnonustravel -> null yok\nownscomputer -> null yok\nhascreditcard -> null yok\nnewcellphoneuser -> null yok\nnotnewcellphoneuser -> null yok\nownsmotorcycle -> null yok\nhandsetprice -> null yok\nmadecalltoretentionteam -> null yok\ncreditrating -> null yok\nprizmcode -> null yok\noccupation -> null yok\nmaritalstatus -> null yok\nmonthlyrevenue -> null var: 156\nmonthlyminutes -> null var: 156\ntotalrecurringcharge -> null var: 156\ndirectorassistedcalls -> null var: 156\noverageminutes -> null var: 156\nroamingcalls -> null var: 156\npercchangeminutes -> null var: 367\npercchangerevenues -> null var: 367\ndroppedcalls -> null yok\nblockedcalls -> null yok\nunansweredcalls -> null yok\ncustomercarecalls -> null yok\nthreewaycalls -> null yok\nreceivedcalls -> null yok\noutboundcalls -> null yok\ninboundcalls -> null yok\npeakcallsinout -> null yok\noffpeakcallsinout -> null yok\ndroppedblockedcalls -> null yok\ncallforwardingcalls -> null yok\ncallwaitingcalls -> null yok\nmonthsinservice -> null yok\nuniquesubs -> null yok\nactivesubs -> null yok\nhandsets -> null var: 1\nhandsetmodels -> null var: 1\ncurrentequipmentdays -> null var: 1\nagehh1 -> null var: 909\nagehh2 -> null var: 909\nretentioncalls -> null yok\nretentionoffersaccepted -> null yok\nreferralsmadebysubscriber -> null yok\nincomegroup -> null yok\nadjustmentstocreditrating -> null yok\nchurn -> null yok\n"}]},"apps":[],"jobName":"paragraph_1556450259062_438371945","id":"20190427-165122_884309711","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24773"},{"text":"%pyspark\n# Kategorik değişkenler ve tekil kategori sayıları\nfor c in kategorikler:\n    print(c,\":\", df2.select(c).distinct().count())\n\n# servicearea : 748 çok fazla kategori. Bu haliyle ML'ye sokulmaz. Ya kullanılmayacak ya da kategori sayısı azaltılacak.\n#+-----------+\n#|  PHXTUC520|\n#|  DALDAL214|\n#|  PHIRDN484|\n#|  PHIBRI856|\n\n# yukarıdaki bilgiler kategori azaltmak için bir örüntü veya mantığa sahipse kategori azaltılabilir.Örneğin ilk üç harf eğer eyaleti gösteriyorsa ilk üç harfli daha az kategori elde edilebilir.\n    ","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":true,"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"servicearea : 748\nchildreninhh : 2\nhandsetrefurbished : 2\nhandsetwebcapable : 2\ntruckowner : 2\nrvowner : 2\nhomeownership : 2\nbuysviamailorder : 2\nrespondstomailoffers : 2\noptoutmailings : 2\nnonustravel : 2\nownscomputer : 2\nhascreditcard : 2\nnewcellphoneuser : 2\nnotnewcellphoneuser : 2\nownsmotorcycle : 2\nhandsetprice : 16\nmadecalltoretentionteam : 2\ncreditrating : 7\nprizmcode : 4\noccupation : 8\nmaritalstatus : 3\n"}]},"apps":[],"jobName":"paragraph_1556450259062_438371945","id":"20190427-181625_502386459","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24774"},{"text":"%pyspark\n# İlk üç harfi alarak bir kategori sayısına bakalım\ndf2.withColumn('servicearea_reduces', df2.servicearea.substr(0, 3)).select(\"servicearea_reduces\").distinct().count()\n\n# 58 daha makul bir sayı: kategorik değişkenlere ekleyelim. ","user":"anonymous","dateUpdated":"2019-04-28T11:39:04+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"58\n"}]},"apps":[],"jobName":"paragraph_1556450259063_437987196","id":"20190427-185606_1069253812","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T11:39:04+0000","dateFinished":"2019-04-28T11:39:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24775"},{"text":"%pyspark\n# Yeni türetilmiş nitelik ile yeni bir dataframe\ndf3 = df2.withColumn('servicearea_reduces', df2.servicearea.substr(0, 3))","user":"anonymous","dateUpdated":"2019-04-30T10:38:30+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259063_437987196","id":"20190427-190903_1824250020","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:38:31+0000","dateFinished":"2019-04-30T10:38:31+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24776"},{"text":"%pyspark\n# kategorik, nümerik ve hedef değişkenleri ayırmak\nlabel = []\nanalize_girmeyecekler = []\nkategorikler = []\nnumerikler = []\n\nfor c in df3.columns:\n    if(str(df3.schema[c].dataType) == \"StringType\"):\n        kategorikler.append(c)\n    else:\n        numerikler.append(c)\n\n\n# Hedef değişkeni (churn) label'a ekleyelim\nlabel.append('churn')\n# customerid analize girmeyeceklere eklensin. extend ile çoğul ekleyebiliyoruz.\nanalize_girmeyecekler.extend(['customerid','servicearea']) \n\nkategorikler = [c for c in kategorikler if c not in (label+analize_girmeyecekler)]\n#customerid analize girmesi nümerik veri türü var ancak kategorik.Önce numerikler den çıkaralım sonra analize_girmeyeceklere ekleyelim\nnumerikler = [c for c in numerikler if c not in (label+analize_girmeyecekler)]\n\n\nprint(label)\nprint(kategorikler)\nprint(numerikler)\nprint(analize_girmeyecekler)","user":"anonymous","dateUpdated":"2019-04-30T10:40:30+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['churn']\n['childreninhh', 'handsetrefurbished', 'handsetwebcapable', 'truckowner', 'rvowner', 'homeownership', 'buysviamailorder', 'respondstomailoffers', 'optoutmailings', 'nonustravel', 'ownscomputer', 'hascreditcard', 'newcellphoneuser', 'notnewcellphoneuser', 'ownsmotorcycle', 'handsetprice', 'madecalltoretentionteam', 'creditrating', 'prizmcode', 'occupation', 'maritalstatus', 'servicearea_reduces']\n['monthlyrevenue', 'monthlyminutes', 'totalrecurringcharge', 'directorassistedcalls', 'overageminutes', 'roamingcalls', 'percchangeminutes', 'percchangerevenues', 'droppedcalls', 'blockedcalls', 'unansweredcalls', 'customercarecalls', 'threewaycalls', 'receivedcalls', 'outboundcalls', 'inboundcalls', 'peakcallsinout', 'offpeakcallsinout', 'droppedblockedcalls', 'callforwardingcalls', 'callwaitingcalls', 'monthsinservice', 'uniquesubs', 'activesubs', 'handsets', 'handsetmodels', 'currentequipmentdays', 'agehh1', 'agehh2', 'retentioncalls', 'retentionoffersaccepted', 'referralsmadebysubscriber', 'incomegroup', 'adjustmentstocreditrating']\n['customerid', 'servicearea']\n"}]},"apps":[],"jobName":"paragraph_1556450259063_437987196","id":"20190427-191222_455758581","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:40:30+0000","dateFinished":"2019-04-30T10:40:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24777"},{"text":"%md\n## Imputer ile Nümerik Niteliklerdeki Null Değerleri Tamamlama\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Imputer ile Nümerik Niteliklerdeki Null Değerleri Tamamlama</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259063_437987196","id":"20190427-192512_1475499993","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24778"},{"text":"%pyspark\nfrom pyspark.ml.feature import Imputer\n\n# Imputer kullanılacak her bir niteğin imputer sonrası ismini belirleyip bir listede toplayalım\nnumerik_imputed_cols = []\nfor col in numerikler:\n    numerik_imputed_cols.append(col+\"_imputer\")\n\n# Imputer nesnesi oluşturalım\nimputer = Imputer(inputCols=numerikler, outputCols=numerik_imputed_cols, strategy='median')","user":"anonymous","dateUpdated":"2019-04-30T10:40:53+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259063_437987196","id":"20190427-192556_2005801076","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:40:53+0000","dateFinished":"2019-04-30T10:40:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24779"},{"text":"%md\n## StringIndexer Aşaması","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>StringIndexer Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259063_437987196","id":"20190426-085754_1514608529","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24780"},{"text":"%pyspark\nfrom pyspark.ml.feature import StringIndexer\n# oluşacak stringIndexer nesnelerini dinamik olarak toplayacağımız sözlük\nstring_indexer_dict = {}\n\n# her bir nitelik için bir stringIndexer nesnesi oluştur ve sözlüğe o sütun anahtarıyla ekle.\nfor column in kategorikler:\n    string_indexer_dict[column] = StringIndexer(inputCol=column, outputCol=column+\"_indexed\", handleInvalid=\"skip\")\n\n# Yukarıda sözlük içinde oluşturduğumuz nesneleri bir listeye toplayalım\nstrig_indexed_object_list = []\nfor i in string_indexer_dict:\n    strig_indexed_object_list.append(string_indexer_dict.get(i))","user":"anonymous","dateUpdated":"2019-04-30T10:40:58+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259063_437987196","id":"20190426-112530_1033069687","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:40:59+0000","dateFinished":"2019-04-30T10:40:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24781"},{"text":"%pyspark\nprint(strig_indexed_object_list)","user":"anonymous","dateUpdated":"2019-04-28T11:40:03+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"[StringIndexer_45da8e67cda3768534a0, StringIndexer_496dbee8cbb9895f2630, StringIndexer_47fd99e338b794848b78, StringIndexer_47a898049ea5c3c6e291, StringIndexer_4265b1f95d980320235b, StringIndexer_47e999bd6e0cc2c9dbd7, StringIndexer_444e993deb0fa3e025c1, StringIndexer_4b0e94c44f7815c80a28, StringIndexer_48f3b9f7eb1f57fc4054, StringIndexer_4a02b4eb13d0486114da, StringIndexer_4e07a385c119c7899e6e, StringIndexer_44188ba06c0bafbbc8ba, StringIndexer_4f0096f112053251d5d1, StringIndexer_4f0c8bb00db65307373c, StringIndexer_4e7696b0e109af397a7d, StringIndexer_413b95ee9b029799e083, StringIndexer_4cf285b91179639ddecf, StringIndexer_4fe19a068f229592711a, StringIndexer_4de18768cda3420836aa, StringIndexer_42d993af3636220f2e7b, StringIndexer_44278b2ab49c56e836b3, StringIndexer_411fbb51116c5f1eb64d]\n"}]},"apps":[],"jobName":"paragraph_1556450259064_436063452","id":"20190427-212512_436581661","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T11:40:03+0000","dateFinished":"2019-04-28T11:40:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24782"},{"text":"%md\n## OneHotEncoder Aşaması","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>OneHotEncoder Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259064_436063452","id":"20190426-084607_466447386","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24783"},{"text":"%pyspark\nfrom pyspark.ml.feature import OneHotEncoder\n# oluşacak stringIndexer nesnelerini dinamik olarak toplayacağımız sözlük\nonehot_dict = {}\n\n# stringIndexer'dan çıkan sütun isimlerinin toplanacağı liste \nonehot_sutun_isimleri = []\n\n# her bir nitelik için bir oneHotEncoder nesnesi oluştur ve sözlüğe o sütun anahtarıyla ekle\nfor column in kategorikler:\n    onehot_dict[column] = OneHotEncoder(inputCol=column+\"_indexed\", outputCol=column+\"_onehot\")\n    onehot_sutun_isimleri.append(column+\"_onehot\")\n\n# Yukarıda sözlük içinde oluşturduğumuz nesneleri bir listeye toplayalım\nonehot_object_list = []\nfor i in onehot_dict:\n    onehot_object_list.append(onehot_dict.get(i))","user":"anonymous","dateUpdated":"2019-04-30T10:41:45+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259064_436063452","id":"20190426-113120_1997058320","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:41:45+0000","dateFinished":"2019-04-30T10:41:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24784"},{"text":"%pyspark\nprint(onehot_object_list)","user":"anonymous","dateUpdated":"2019-04-28T11:40:17+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"[OneHotEncoder_42d6aa06745c45643b03, OneHotEncoder_481383fb990eb5114ed4, OneHotEncoder_4bd78b564b61dd0306ba, OneHotEncoder_4461a518d7ca874b93fd, OneHotEncoder_4062a2c852e0982f6dfd, OneHotEncoder_4a8ba9f9d855cc527b5a, OneHotEncoder_4f338a8ed876701a9c22, OneHotEncoder_410391fd9e0231660358, OneHotEncoder_41b9aeff9024bd4162a3, OneHotEncoder_4c82b2df1c5eb4873a1d, OneHotEncoder_4b2baf5300c1d1355f0e, OneHotEncoder_4ed4bab15b4c18966e60, OneHotEncoder_4f20ba98ef5bccaaced9, OneHotEncoder_41ecadf45e708a674e02, OneHotEncoder_4890b163f09c0501e951, OneHotEncoder_4c59bf88bf504dcc0d01, OneHotEncoder_4939803c34ffe98d1fea, OneHotEncoder_44d5bffd1844b1e68f0c, OneHotEncoder_4262b4c516da84efcb25, OneHotEncoder_4f238966401219cd4c1f, OneHotEncoder_427aba6823f88b731bb7, OneHotEncoder_45a2b0d98342f7306263]\n"}]},"apps":[],"jobName":"paragraph_1556450259064_436063452","id":"20190427-223913_276392669","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T11:40:17+0000","dateFinished":"2019-04-28T11:40:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24785"},{"text":"%pyspark\nprint(onehot_sutun_isimleri)","dateUpdated":"2019-04-28T11:17:39+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['childreninhh_onehot', 'handsetrefurbished_onehot', 'handsetwebcapable_onehot', 'truckowner_onehot', 'rvowner_onehot', 'homeownership_onehot', 'buysviamailorder_onehot', 'respondstomailoffers_onehot', 'optoutmailings_onehot', 'nonustravel_onehot', 'ownscomputer_onehot', 'hascreditcard_onehot', 'newcellphoneuser_onehot', 'notnewcellphoneuser_onehot', 'ownsmotorcycle_onehot', 'handsetprice_onehot', 'madecalltoretentionteam_onehot', 'creditrating_onehot', 'prizmcode_onehot', 'occupation_onehot', 'maritalstatus_onehot', 'servicearea_reduces_onehot']\n"}]},"apps":[],"jobName":"paragraph_1556450259064_436063452","id":"20190427-212421_47067146","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24786"},{"text":"%md\n## labelIndexer Aşaması\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>labelIndexer Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259064_436063452","id":"20190426-115003_993446553","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24787"},{"text":"%pyspark\nlabel_indexer = StringIndexer(inputCol=\"churn\", outputCol=\"label\", handleInvalid=\"skip\")","user":"anonymous","dateUpdated":"2019-04-30T10:41:52+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259064_436063452","id":"20190426-091453_739876732","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:41:52+0000","dateFinished":"2019-04-30T10:41:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24788"},{"text":"%md\n## VectorAssembler Aşaması\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>VectorAssembler Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259064_436063452","id":"20190426-115024_906351708","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24789"},{"text":"%pyspark\nfrom pyspark.ml.feature import VectorAssembler\nassembler = VectorAssembler(inputCols=onehot_sutun_isimleri+numerik_imputed_cols, outputCol=\"features\")","user":"anonymous","dateUpdated":"2019-04-30T10:42:08+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259065_435678703","id":"20190426-114759_1655332708","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:42:08+0000","dateFinished":"2019-04-30T10:42:08+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24790"},{"text":"%md\n## Standardizasyon Aşaması\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Standardizasyon Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259065_435678703","id":"20190427-203834_897410439","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24791"},{"text":"%pyspark\nfrom pyspark.ml.feature import StandardScaler\nscaler = StandardScaler(inputCol=\"features\", outputCol=\"scaled_features\")","user":"anonymous","dateUpdated":"2019-04-30T10:42:13+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259065_435678703","id":"20190426-101539_766109072","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:42:14+0000","dateFinished":"2019-04-30T10:42:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24792"},{"text":"%md\n## Veriyi Eğitim ve Test Olarak Bölme Aşaması","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Veriyi Eğitim ve Test Olarak Bölme Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259065_435678703","id":"20190427-203924_1336726773","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24793"},{"text":"%pyspark\n# Veriyi eğitim ve test olarak bölme\ntrain_df, test_df = df3.randomSplit([0.8, 0.2], seed=142)","user":"anonymous","dateUpdated":"2019-04-30T10:42:24+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259065_435678703","id":"20190426-102324_861256725","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:42:24+0000","dateFinished":"2019-04-30T10:42:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24794"},{"text":"%md\n## Model Aşaması\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259065_435678703","id":"20190427-204147_208366725","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24795"},{"text":"%pyspark\nfrom pyspark.ml.classification import LogisticRegression\nclassifier = LogisticRegression(featuresCol=\"scaled_features\", labelCol=\"label\")","user":"anonymous","dateUpdated":"2019-04-30T10:42:37+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259065_435678703","id":"20190426-101642_1482815238","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:42:37+0000","dateFinished":"2019-04-30T10:42:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24796"},{"text":"%md\n## Pipeline Aşaması\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Pipeline Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259065_435678703","id":"20190427-204236_1637401710","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24797"},{"text":"%pyspark\nfrom pyspark.ml import Pipeline, PipelineModel\npipeline_obj = Pipeline(stages = [imputer]+strig_indexed_object_list+onehot_object_list+[assembler, label_indexer, scaler, classifier])","user":"anonymous","dateUpdated":"2019-04-30T10:43:01+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259066_436832949","id":"20190426-101640_253872821","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-30T10:43:01+0000","dateFinished":"2019-04-30T10:43:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24798"},{"text":"%md\n## Model Tuning Aşaması","user":"anonymous","dateUpdated":"2019-04-28T12:16:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Tuning Aşaması</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259066_436832949","id":"20190427-212337_1624661704","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T12:16:39+0000","dateFinished":"2019-04-28T12:16:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24799"},{"text":"%pyspark\nfrom pyspark.ml.tuning import CrossValidator, ParamGridBuilder\nfrom pyspark.ml.evaluation import BinaryClassificationEvaluator\nparamGrid = ParamGridBuilder() \\\n    .addGrid(classifier.elasticNetParam, [0.5, 0.1]) \\\n    .addGrid(classifier.regParam, [0.1, 0.01]) \\\n    .build()\n\nevaluator = BinaryClassificationEvaluator(rawPredictionCol=\"rawPrediction\", metricName= \"areaUnderROC\")\n\ncrossval = CrossValidator(estimator=pipeline_obj,\n                          estimatorParamMaps=paramGrid,\n                          evaluator=evaluator,\n                          numFolds=2)  # use 3+ folds in practice\n\n# Run cross-validation, and choose the best set of parameters.\ncvModel = crossval.fit(train_df)\n# 31 dk sürdü","user":"anonymous","dateUpdated":"2019-04-28T14:39:10+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259066_436832949","id":"20190426-101955_214390745","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T12:23:40+0000","dateFinished":"2019-04-28T12:54:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24800"},{"text":"%md\n## En İyi Modeli Seçme\n","user":"anonymous","dateUpdated":"2019-04-28T12:50:38+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>En İyi Modeli Seçme</h2>\n"}]},"apps":[],"jobName":"paragraph_1556455809021_989450553","id":"20190428-125009_1183652226","dateCreated":"2019-04-28T12:50:09+0000","dateStarted":"2019-04-28T12:50:38+0000","dateFinished":"2019-04-28T12:50:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24801"},{"text":"%pyspark\nbest_pipeline_model = cvModel.bestModel","user":"anonymous","dateUpdated":"2019-04-28T13:01:04+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556455818499_-14127820","id":"20190428-125018_1051940294","dateCreated":"2019-04-28T12:50:18+0000","dateStarted":"2019-04-28T13:01:04+0000","dateFinished":"2019-04-28T13:01:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24802"},{"text":"%md\n## En İyi PipelineModel İçinden LogisticRegression Modeli Alma","user":"anonymous","dateUpdated":"2019-04-28T15:04:32+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>En İyi PipelineModel İçinden LogisticRegression Modeli Alma</h2>\n"}]},"apps":[],"jobName":"paragraph_1556463837263_1225255812","id":"20190428-150357_1705300316","dateCreated":"2019-04-28T15:03:57+0000","dateStarted":"2019-04-28T15:04:32+0000","dateFinished":"2019-04-28T15:04:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24803"},{"text":"%pyspark\nbest_lr_model = best_pipeline_model.stages[-1]\ntype(best_lr_model)","user":"anonymous","dateUpdated":"2019-04-28T13:08:41+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"<class 'pyspark.ml.classification.LogisticRegressionModel'>\n"}]},"apps":[],"jobName":"paragraph_1556455817945_111300322","id":"20190428-125017_1977334922","dateCreated":"2019-04-28T12:50:17+0000","dateStarted":"2019-04-28T13:08:41+0000","dateFinished":"2019-04-28T13:08:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24804"},{"text":"%pyspark\nprint(\"Coefficients: \" + str(best_lr_model.coefficients))\nprint(\"Intercept: \" + str(best_lr_model.intercept))","user":"anonymous","dateUpdated":"2019-04-30T11:00:39+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python","tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Coefficients: [-0.041282925131906574,-0.0730251975137477,-0.04964157717725806,0.0027382637990052837,0.0013913580502185844,0.0,0.018454091850730547,0.028012463698290167,0.019923589966417448,0.00964327646328911,0.0,0.028125585281312017,0.015694002399882834,-0.0008597978117178335,5.141595866622213e-05,-0.0046289543911039914,0.003922127585128748,0.015775475887807467,0.004613990784363832,0.011338411841889448,-4.2353380033325304e-05,0.0,0.024383915032823205,0.008070660690920493,0.006010416899463442,-0.006501166171093064,0.016012571330289167,-0.004600611407329971,-0.003193370569707605,0.003972087706772085,-0.0338022863405521,0.051821310087470256,0.007524904832712038,0.0410444130136489,-0.07070371504083776,-0.017008682504516426,0.002899588222486327,-0.005667258349321897,-0.020643086341003584,0.0188514744783118,0.0018287531852059522,-0.0005805045689005173,0.0,0.0074609271550864775,-0.0005641595066779421,-0.011315178411707857,0.00672995612375596,0.049423150051599016,0.017782247045691264,0.007786636441035168,0.0,0.016265490071442092,-0.006670757352964277,-0.01879293086278882,-0.00848251719047606,0.014618860190588525,0.027002475424926946,0.03809388359789238,0.0,0.0,-0.01918553270383026,0.0,0.014907349140373562,-0.0007688408959024843,0.0,0.016216138381368574,0.03247062435655848,-0.028000837856235996,0.0,-0.03967535335306721,0.0013392340513995041,0.0,-0.013891027821392609,0.04185662020200805,-0.008349220623753777,0.006679040343980413,0.0,-0.0006230654015564812,0.012123843526517976,0.0,0.0,-0.004951715475549467,0.0,0.0,0.011338182839543283,0.02021694466420515,-0.008958291363084835,-0.0010834967782467353,0.0,-0.007469592982339316,0.01724491295431349,0.004307205739813692,-0.0036775404428320774,0.0,0.011042167162551443,0.0005503131281858265,0.011768654934159134,0.005408233760734144,0.0,0.0,0.015632550479583722,-0.00312593187986387,-0.0019970861289144025,-0.0030398264550864783,-0.003948480431439659,-0.0008260059123954038,0.02669347555860332,-0.09101221786390502,-0.04912207205702251,0.0,0.09916225983576618,0.015445019556929177,-0.13601142098053653,0.0864963645490031,0.031506225366984254,0.015296173081318792,-0.0,-0.02604537167457407,-0.03788222538125872,0.0,0.0031712268415645412,-0.0320023243062114,-0.046175104456373316,0.0,0.030875005305461663,0.0,-3.293893495013547e-05,-0.11476346168884885,0.13737347790112606,-0.07948732895597294,0.054698896253156964,0.0,0.280689820173441,-0.07950855448524395,-0.010845583011362271,0.09625613036807933,-0.01577177164882381,-0.0024490581832518643,-0.005843626568021033,-0.03555176565124121]\nIntercept: -0.8995381878812201\n"}]},"apps":[],"jobName":"paragraph_1556455817874_140156489","id":"20190428-125017_101656660","dateCreated":"2019-04-28T12:50:17+0000","dateStarted":"2019-04-28T13:09:14+0000","dateFinished":"2019-04-28T13:09:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24805"},{"text":"%pyspark\ntrainingSummary = best_lr_model.summary\ntrainingSummary.roc.show(5)","user":"anonymous","dateUpdated":"2019-04-30T11:00:56+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python","tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+--------------------+\n|                 FPR|                 TPR|\n+--------------------+--------------------+\n|                 0.0|                 0.0|\n|0.006611342584621742|0.018285422690933834|\n|0.013429289625012913|0.036060554516074164|\n| 0.02121139079232809| 0.05145432896751148|\n|0.029096794187527978| 0.06659295798605205|\n+--------------------+--------------------+\nonly showing top 5 rows\n\n"}]},"apps":[],"jobName":"paragraph_1556455817799_58204973","id":"20190428-125017_1473929072","dateCreated":"2019-04-28T12:50:17+0000","dateStarted":"2019-04-28T13:22:35+0000","dateFinished":"2019-04-28T13:22:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24806"},{"text":"%md\n## ROC Çizim","user":"anonymous","dateUpdated":"2019-04-28T13:16:48+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>ROC Çizim</h2>\n"}]},"apps":[],"jobName":"paragraph_1556457384480_1899913344","id":"20190428-131624_1247561800","dateCreated":"2019-04-28T13:16:24+0000","dateStarted":"2019-04-28T13:16:48+0000","dateFinished":"2019-04-28T13:16:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24807"},{"text":"%pyspark\nx = trainingSummary.roc.select(\"FPR\").toPandas()\ny = trainingSummary.roc.select(\"TPR\").toPandas()","user":"anonymous","dateUpdated":"2019-04-28T13:16:09+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556455817181_2144866825","id":"20190428-125017_1149064929","dateCreated":"2019-04-28T12:50:17+0000","dateStarted":"2019-04-28T13:16:09+0000","dateFinished":"2019-04-28T13:16:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24808"},{"text":"%pyspark\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\nplt.figure(figsize=(9,6)) # Kanvas ebadı\nplt.plot(x,y, label='ROC') # x ve y eksenleri içi veri ne olacak, etiket\n\nplt.xlabel('FPR') # x ekseni etiketi\nplt.ylabel('TPR') # ye ekseni etiketi\n\nplt.title(\"ROC\") # Grafik başlığı\n\nplt.legend(loc='lower right')\nplt.show()\n","user":"anonymous","dateUpdated":"2019-04-30T11:01:45+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python","tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div style='width:auto;height:auto'><img src=data:image/png;base64,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 style='width=auto;height:auto'><div>\n"}]},"apps":[],"jobName":"paragraph_1556457131484_-346402332","id":"20190428-131211_296936718","dateCreated":"2019-04-28T13:12:11+0000","dateStarted":"2019-04-28T13:16:12+0000","dateFinished":"2019-04-28T13:16:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24809"},{"text":"%md\n## Test Verisini En İyi Model Üzerinden Geçirme\n","user":"anonymous","dateUpdated":"2019-04-30T11:03:07+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Test Verisini En İyi Model Üzerinden Geçirme</h2>\n"}]},"apps":[],"jobName":"paragraph_1556457586091_1903435736","id":"20190428-131946_1680586633","dateCreated":"2019-04-28T13:19:46+0000","dateStarted":"2019-04-28T13:21:36+0000","dateFinished":"2019-04-28T13:21:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24810"},{"text":"%md\n## Model Değerlendirme\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Değerlendirme</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259067_436448200","id":"20190428-104137_1937418783","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24811"},{"text":"%pyspark\nfrom pyspark.ml.evaluation import BinaryClassificationEvaluator","dateUpdated":"2019-04-28T11:17:39+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259067_436448200","id":"20190426-101954_1744634808","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24812"},{"text":"%pyspark\npipeline_transformed_df = best_pipeline_model.transform(test_df)","user":"anonymous","dateUpdated":"2019-04-28T13:23:13+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556457699595_-1135525615","id":"20190428-132139_521428494","dateCreated":"2019-04-28T13:21:39+0000","dateStarted":"2019-04-28T13:23:13+0000","dateFinished":"2019-04-28T13:23:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24813"},{"text":"%pyspark\nevaluator = BinaryClassificationEvaluator(rawPredictionCol=\"rawPrediction\", metricName=\"areaUnderROC\")\nevaluator.evaluate(pipeline_transformed_df)","user":"anonymous","dateUpdated":"2019-04-28T13:25:10+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.6155791429215403\n"}]},"apps":[],"jobName":"paragraph_1556450259067_436448200","id":"20190426-103057_1277352167","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T13:25:11+0000","dateFinished":"2019-04-28T13:25:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24814"},{"text":"%md\n## Model Değerlendirme İçin LogisticRegressionModel'in evaluate() Metodunu Kullanmak","user":"anonymous","dateUpdated":"2019-04-28T15:12:00+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Model Değerlendirme İçin LogisticRegressionModel'in evaluate() Metodunu Kullanmak</h2>\n"}]},"apps":[],"jobName":"paragraph_1556464277625_1430511390","id":"20190428-151117_81440722","dateCreated":"2019-04-28T15:11:17+0000","dateStarted":"2019-04-28T15:12:00+0000","dateFinished":"2019-04-28T15:12:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24815"},{"text":"%pyspark\n# Modele girecek dataframe aynı pipeline içinde geçmiş olmalı ve 'prediction','rawPrediction','probability' nitelikleri olmamalıdır.\nbinaryLogisticRegressionSummary = best_lr_model.evaluate(pipeline_transformed_df.drop('prediction','rawPrediction','probability'))","user":"anonymous","dateUpdated":"2019-04-28T15:13:00+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556464078877_1621484238","id":"20190428-150758_763741881","dateCreated":"2019-04-28T15:07:58+0000","dateStarted":"2019-04-28T15:11:05+0000","dateFinished":"2019-04-28T15:11:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24816"},{"text":"%pyspark\n# roc, areaUnderROC, pr, fMeasureByThreshold, precisionByThreshold\nbinaryLogisticRegressionSummary.pr.show(4)","user":"anonymous","dateUpdated":"2019-04-28T15:16:20+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+-------------------+\n|              recall|          precision|\n+--------------------+-------------------+\n|                 0.0|                1.0|\n|0.015577378936674569|0.45098039215686275|\n| 0.03284795123603115|0.47549019607843135|\n| 0.05011852353538774|0.48366013071895425|\n+--------------------+-------------------+\nonly showing top 4 rows\n\n"}]},"apps":[],"jobName":"paragraph_1556464268920_-702506388","id":"20190428-151108_1692158515","dateCreated":"2019-04-28T15:11:08+0000","dateStarted":"2019-04-28T15:16:20+0000","dateFinished":"2019-04-28T15:16:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24817"},{"text":"%md\n## El İle Değerlendirme Metrikleri Hesaplama","user":"anonymous","dateUpdated":"2019-04-28T15:16:58+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>El İle Değerlendirme Metrikleri Hesaplama</h2>\n"}]},"apps":[],"jobName":"paragraph_1556464594612_970796106","id":"20190428-151634_545018810","dateCreated":"2019-04-28T15:16:34+0000","dateStarted":"2019-04-28T15:16:58+0000","dateFinished":"2019-04-28T15:16:58+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24818"},{"text":"%pyspark\n# tp, tn, fp, fn hesapladığımızda bir çok metriği formüllerini kullanarak kendimiz hesaplayabiliriz.\npipeline_transformed_df.select(\"label\",\"prediction\").show()","user":"anonymous","dateUpdated":"2019-04-28T15:18:01+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----+----------+\n|label|prediction|\n+-----+----------+\n|  0.0|       1.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  1.0|       0.0|\n|  0.0|       0.0|\n|  1.0|       0.0|\n|  0.0|       0.0|\n|  1.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n|  1.0|       1.0|\n|  0.0|       0.0|\n|  0.0|       0.0|\n+-----+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1556450259068_434524456","id":"20190426-103901_938768731","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T13:26:12+0000","dateFinished":"2019-04-28T13:26:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24819"},{"text":"%pyspark\n# accuracy hesaplama\ntp = pipeline_transformed_df.select(\"label\",\"prediction\").where((pipeline_transformed_df.label == 1) & (pipeline_transformed_df.prediction ==1)).count()\n\ntn = pipeline_transformed_df.select(\"label\",\"prediction\").where((pipeline_transformed_df.label == 0) & (pipeline_transformed_df.prediction ==0)).count()\n\nfp = pipeline_transformed_df.select(\"label\",\"prediction\").where((pipeline_transformed_df.label == 0) & (pipeline_transformed_df.prediction ==1)).count()\n\nfn = pipeline_transformed_df.select(\"label\",\"prediction\").where((pipeline_transformed_df.label == 1) & (pipeline_transformed_df.prediction ==0)).count()\n\ntotal = pipeline_transformed_df.count()\n\nprint(\"tp: \", tp)\nprint(\"tn: \", tn)\nprint(\"fp: \", fp)\nprint(\"tp: \", tp)\nprint(\"fn: \", fn)\nprint(\"toplam: \", total)","user":"anonymous","dateUpdated":"2019-04-28T14:27:39+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"tp:  59\ntn:  7219\nfp:  76\ntp:  59\nfn:  2894\ntoplam:  10248\n"}]},"apps":[],"jobName":"paragraph_1556450259068_434524456","id":"20190426-103952_1121832729","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T13:26:15+0000","dateFinished":"2019-04-28T13:26:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24820"},{"text":"%pyspark\naccuracy = (tp+tn)/total\n\nprint(\"%\",accuracy*100)","user":"anonymous","dateUpdated":"2019-04-28T13:26:38+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":" 71.01873536299766\n"}]},"apps":[],"jobName":"paragraph_1556450259068_434524456","id":"20190426-105546_2118680281","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T13:26:39+0000","dateFinished":"2019-04-28T13:26:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24821"},{"text":"%pyspark\nprecision = tp / (tp + fp)\nrecall = tp / (tp + fn)\nprint(\"precision:\",precision)\nprint(\"recall:\",recall)","user":"anonymous","dateUpdated":"2019-04-28T13:26:41+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"precision: 0.43703703703703706\nrecall: 0.019979681679647816\n"}]},"apps":[],"jobName":"paragraph_1556450259068_434524456","id":"20190428-104658_1928709037","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T13:26:54+0000","dateFinished":"2019-04-28T13:26:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24822"},{"text":"%pyspark\nf1 = (precision * recall) / (precision + recall)\nprint(f1)","user":"anonymous","dateUpdated":"2019-04-28T13:27:01+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.019106217616580313\n"}]},"apps":[],"jobName":"paragraph_1556450259068_434524456","id":"20190428-104918_1756385121","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T13:27:01+0000","dateFinished":"2019-04-28T13:27:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24823"},{"text":"%md\n## Eğitilmiş Modeli Saklama\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Eğitilmiş Modeli Saklama</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259066_436832949","id":"20190428-103932_1762543699","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24824"},{"text":"%pyspark\nbest_pipeline_model.save(\"/home/maria_dev/ml_models/churn_log_reg_best_pipeline_model\")","user":"anonymous","dateUpdated":"2019-04-28T13:17:48+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259066_436832949","id":"20190428-103638_143556672","dateCreated":"2019-04-28T11:17:39+0000","dateStarted":"2019-04-28T13:17:49+0000","dateFinished":"2019-04-28T13:18:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24825"},{"text":"%md\n## Saklanmış Modeli Okuma\n","dateUpdated":"2019-04-28T11:17:39+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Saklanmış Modeli Okuma</h2>\n"}]},"apps":[],"jobName":"paragraph_1556450259066_436832949","id":"20190428-103954_393950106","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24826"},{"text":"%pyspark\nloaded_best_pipeline_model = PipelineModel.load(\"/home/maria_dev/ml_models/churn_log_reg_best_pipeline_model\")","dateUpdated":"2019-04-28T13:18:22+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1556450259066_436832949","id":"20190428-103819_434634736","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24827"},{"text":"%pyspark\nresult_df = loaded_best_pipeline_model.transform(tugbanin_hazirladigi_production_df)","user":"anonymous","dateUpdated":"2019-04-30T11:08:24+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1556622460718_-1651245279","id":"20190430-110740_1741598168","dateCreated":"2019-04-30T11:07:40+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:29971"},{"text":"%pyspark\n# Bu noktada en iyi modelin parametreleri ile bütün veriyi kullnarak son bir production modeli oluşturmak lazım.","dateUpdated":"2019-04-30T11:06:42+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1556450259069_434139707","id":"20190428-105237_1113115211","dateCreated":"2019-04-28T11:17:39+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24828"}],"name":"/hadoop-spark-for-datascientists/churn_telecom_model_tuning","id":"2EA9T1DD9","angularObjects":{"2CHS8UYQQ:shared_process":[],"2C8A4SZ9T_livy2:shared_process":[],"2CK8A9MEG:shared_process":[],"2C4U48MY3_spark2:shared_process":[],"2CKAY1A8Y:shared_process":[],"2CKEKWY8Z:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}